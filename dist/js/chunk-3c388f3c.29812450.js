(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c388f3c"],{"0864":function(t,n,e){"use strict";var i=e("900c");n["a"]={data:function(){return{configUrl:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/"),labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateConfigProperties:function(t){for(var n=this,e=[],a=0;a<t.length;a++){var o=t[a];o.propertyValue=i["a"].trimToNull(o.propertyValue),e.push(o)}var r="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(r,e).then((function(t){n.$toastr.s(n.$t("admin.configuration_saved"))})).catch((function(t){n.$toastr.w(n.$t("condition.unsuccessful_action"))}))},updateConfigProperty:function(t,n,e){var a=this;e=i["a"].trimToNull(e);var o="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/");this.axios.post(o,{groupName:t,propertyName:n,propertyValue:e}).then((function(t){a.$toastr.s(a.$t("admin.configuration_saved"))})).catch((function(t){a.$toastr.w(a.$t("condition.unsuccessful_action"))}))}}}},"4c13":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t._self._c;return n("b-card",{attrs:{"no-body":"",header:t.header}},[n("b-card-body",[n("c-switch",t._b({attrs:{disabled:!this.vulnsourceEnabled&&!this.nvdApiEndpoint,id:"vulnsourceEnabled",color:"primary",label:""},model:{value:t.vulnsourceEnabled,callback:function(n){t.vulnsourceEnabled=n},expression:"vulnsourceEnabled"}},"c-switch",t.labelIcon,!1)),t._v("\n    "+t._s(t.$t("admin.vulnsource_nvd_enable"))+"\n    "),n("hr"),t._v("\n    "+t._s(t.$t("admin.vulnsource_nvd_desc"))+"\n    "),n("br"),n("br"),t._v("\n    "+t._s(t.$t("admin.vulnsource_nvd_notice"))+"\n    "),n("hr"),n("b-validated-input-group-form-input",{attrs:{id:"nvdApiEndpoint",label:"API endpoint","input-group-size":"mb-3",lazy:"true"},model:{value:t.nvdApiEndpoint,callback:function(n){t.nvdApiEndpoint=n},expression:"nvdApiEndpoint"}}),n("b-validated-input-group-form-input",{attrs:{id:"nvdApiKey",label:"API key","input-group-size":"mb-3",type:"password",lazy:"true"},model:{value:t.nvdApiKey,callback:function(n){t.nvdApiKey=n},expression:"nvdApiKey"}}),n("p",{staticClass:"font-sm text-muted"},[n("span",{staticClass:"fa fa-question-circle"},[t._v(" ")]),n("a",{attrs:{href:t.nvdApiRequestApiKeyUrl,target:"_blank"}},[t._v(t._s(t.$t("admin.nvd_request_api_key_help")))])])],1),n("b-card-footer",[n("b-button",{staticClass:"px-4",attrs:{disabled:this.vulnsourceEnabled&&!this.nvdApiEndpoint,variant:"outline-primary"},on:{click:t.saveChanges}},[t._v("\n      "+t._s(t.$t("message.update"))+"\n    ")])],1)],1)},a=[],o=e("f1fb"),r=e("cc9d"),u=e("900c"),s=e("0864"),l={mixins:[s["a"]],props:{header:String},components:{cSwitch:o["o"],BValidatedInputGroupFormInput:r["a"]},data:function(){return{vulnsourceEnabled:!1,nvdApiEndpoint:"",nvdApiKey:"",nvdApiRequestApiKeyUrl:"https://nvd.nist.gov/developers/request-an-api-key",labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{saveChanges:function(){this.updateConfigProperties([{groupName:"vuln-source",propertyName:"nvd.enabled",propertyValue:this.vulnsourceEnabled},{groupName:"vuln-source",propertyName:"nvd.api.url",propertyValue:this.nvdApiEndpoint},{groupName:"vuln-source",propertyName:"nvd.api.key",propertyValue:this.nvdApiKey}])}},created:function(){var t=this;this.axios.get(this.configUrl).then((function(n){for(var e=n.data.filter((function(t){return"vuln-source"===t.groupName})),i=0;i<e.length;i++){var a=e[i];switch(a.propertyName){case"nvd.enabled":t.vulnsourceEnabled=u["a"].toBoolean(a.propertyValue);break;case"nvd.api.url":t.nvdApiEndpoint=a.propertyValue;break;case"nvd.api.key":t.nvdApiKey=a.propertyValue;break}}}))}},p=l,c=e("2877"),d=Object(c["a"])(p,i,a,!1,null,null,null);n["default"]=d.exports},cc9d:function(t,n,e){"use strict";var i=function(){var t=this,n=t._self._c;return n("validation-provider",{attrs:{vid:t.id,name:t.label,rules:t.rules,mode:t.mode},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,a=e.valid;return[n("b-form-group",{attrs:{id:t.id,label:t.label,"label-for":"".concat(t.id,"-input")}},[n("b-input-group",{class:t.inputGroupSize},[t.icon?n("b-input-group-prepend",[n("b-input-group-text",[n("i",{class:t.icon})])],1):t._e(),n("b-form-input",t._g({class:t.inputClasses,attrs:{id:"".concat(t.id,"-input"),type:t.type,placeholder:t.label,state:t.errorHandlingMethod(i,a),autocomplete:t.autocomplete,autofocus:t.isFocused},model:{value:t.innerValue,callback:function(n){t.innerValue=n},expression:"innerValue"}},t.inputListeners)),t.tooltip?n("b-input-group-append",[n("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.tooltip}},[n("i",{staticClass:"cui-info font-lg"})])],1):t._e()],1),n("b-form-invalid-feedback",{attrs:{state:t.errorHandlingMethod(i,a)}},[t._v("\n      "+t._s(i[0])+"\n    ")])],1)]}}])})},a=[],o=e("7bb1"),r=e("900c"),u={name:"BValidatedInputGroupFormInput",components:{ValidationProvider:o["b"]},props:{id:String,label:String,value:String,inputGroupSize:String,icon:String,rules:String,mode:String,type:String,autocomplete:String,autofocus:String,tooltip:String,lazy:String},data:function(){return{isFocused:!1}},beforeMount:function(){!0!==this.autofocus&&"true"!==this.autofocus||(this.isFocused=!0)},computed:{innerValue:{get:function(){return this.value},set:function(t){return t}},inputListeners:function(){var t=this;return Object.assign({},this.$listeners,{input:function(n){t.$emit("input",n)}})},inputClasses:function(){var t="form-control";return!r["a"].toBoolean(this.lazy)&&this.rules&&this.rules.includes("required")&&(t+=" required"),t}},methods:{errorHandlingMethod:function(t,n){return this.rules?r["a"].toBoolean(this.lazy)?!t[0]&&(!!n||null):!t[0]&&!!n:null}}},s=u,l=e("2877"),p=Object(l["a"])(s,i,a,!1,null,null,null);n["a"]=p.exports}}]);