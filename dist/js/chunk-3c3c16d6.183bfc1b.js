(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c3c16d6"],{"0864":function(e,t,a){"use strict";var i=a("900c");t["a"]={data:function(){return{configUrl:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/"),labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateConfigProperties:function(e){for(var t=this,a=[],r=0;r<e.length;r++){var s=e[r];s.propertyValue=i["a"].trimToNull(s.propertyValue),a.push(s)}var o="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(o,a).then((function(e){t.$toastr.s(t.$t("admin.configuration_saved"))})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},updateConfigProperty:function(e,t,a){var r=this;a=i["a"].trimToNull(a);var s="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/");this.axios.post(s,{groupName:e,propertyName:t,propertyValue:a}).then((function(e){r.$toastr.s(r.$t("admin.configuration_saved"))})).catch((function(e){r.$toastr.w(r.$t("condition.unsuccessful_action"))}))}}}},"0ed3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("b-card",{attrs:{"no-body":"",header:e.header}},[t("b-card-body",[t("c-switch",e._b({attrs:{id:"email-enabled",color:"primary",label:""},model:{value:e.isEmailEnabled,callback:function(t){e.isEmailEnabled=t},expression:"isEmailEnabled"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.enable_email"))+"\n    "),t("b-validated-input-group-form-input",{attrs:{id:"email-from-address",label:e.$t("admin.email_from_address"),"input-group-size":"mb-3",rules:"required",type:"text",lazy:"true"},model:{value:e.emailFromAddress,callback:function(t){e.emailFromAddress=t},expression:"emailFromAddress"}}),t("b-validated-input-group-form-input",{attrs:{id:"email-prefix",label:e.$t("admin.email_prefix"),"input-group-size":"mb-3",type:"text",lazy:"true"},model:{value:e.emailPrefix,callback:function(t){e.emailPrefix=t},expression:"emailPrefix"}}),t("b-validated-input-group-form-input",{attrs:{id:"email-smtp-server",label:e.$t("admin.email_smtp_server"),"input-group-size":"mb-3",rules:"required",type:"text",lazy:"true"},model:{value:e.emailSmtpServer,callback:function(t){e.emailSmtpServer=t},expression:"emailSmtpServer"}}),t("b-validated-input-group-form-input",{attrs:{id:"email-smtp-port",label:e.$t("admin.email_smtp_port"),"input-group-size":"mb-3",rules:"required",type:"number",lazy:"true"},model:{value:e.emailSmtpPort,callback:function(t){e.emailSmtpPort=t},expression:"emailSmtpPort"}}),t("b-validated-input-group-form-input",{attrs:{id:"email-smtp-username",label:e.$t("admin.email_smtp_username"),"input-group-size":"mb-3",type:"text",lazy:"true"},model:{value:e.emailSmtpUsername,callback:function(t){e.emailSmtpUsername=t},expression:"emailSmtpUsername"}}),t("b-validated-input-group-form-input",{attrs:{id:"email-smtp-password",label:e.$t("admin.email_smtp_password"),"input-group-size":"mb-3",type:"password",lazy:"true",conceal:"true"},model:{value:e.emailSmtpPassword,callback:function(t){e.emailSmtpPassword=t},expression:"emailSmtpPassword"}}),t("c-switch",e._b({attrs:{id:"email-smtp-enable-ssltls",color:"primary",label:""},model:{value:e.isSmtpSslTlsEnabled,callback:function(t){e.isSmtpSslTlsEnabled=t},expression:"isSmtpSslTlsEnabled"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.email_enable_ssltls"))+"\n    "),t("br"),t("c-switch",e._b({attrs:{id:"email-smtp-trust-cert",color:"primary",label:""},model:{value:e.isEmailSmtpTrustCertEnabled,callback:function(t){e.isEmailSmtpTrustCertEnabled=t},expression:"isEmailSmtpTrustCertEnabled"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.email_trust_cert"))+"\n  ")],1),t("b-card-footer",[t("b-button",{staticClass:"px-4",attrs:{size:"md",variant:"outline-primary"},on:{click:e.saveChanges}},[e._v(e._s(e.$t("message.update")))]),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.emailTestConfigurationModal",modifiers:{emailTestConfigurationModal:!0}}],staticClass:"px-4",attrs:{size:"md",variant:"outline-primary"}},[e._v(e._s(e.$t("admin.configuration_test")))])],1),t("email-test-configuration-modal")],1)},r=[],s=a("f1fb"),o=a("cc9d"),n=a("0864"),l=a("900c"),p=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"emailTestConfigurationModal",size:"md","hide-header-close":"","no-stacking":"",title:e.$t("admin.configuration_test")},on:{hide:function(t){return e.resetValues()}},scopedSlots:e._u([{key:"modal-footer",fn:function(a){var i=a.cancel;return[t("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(e){return i()}}},[e._v(e._s(e.$t("message.close")))]),t("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){e.testConfiguration(),i()}}},[e._v(e._s(e.$t("admin.perform_test")))])]}}])},[t("b-validated-input-group-form-input",{attrs:{id:"email-to-address",label:e.$t("admin.email_address"),"input-group-size":"mb-3",rules:"required",type:"email",tooltip:"Enter an email address you control to test your send configuration.",lazy:"true"},model:{value:e.emailAddress,callback:function(t){e.emailAddress=t},expression:"emailAddress"}})],1)},u=[],m={name:"ProjectPropertiesModal",components:{BValidatedInputGroupFormInput:o["a"]},data:function(){return{emailAddress:""}},methods:{testConfiguration:function(){var e=this,t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_PUBLISHER,"/test/smtp"),a=new URLSearchParams;a.append("destination",this.emailAddress),this.axios.post(t,a,{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(t){e.$toastr.s(e.$t("admin.test_notification_queued"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))})),this.$root.$emit("bv::hide::modal","emailTestConfigurationModal")},resetValues:function(){this.emailAddress=""}}},d=m,c=a("2877"),f=Object(c["a"])(d,p,u,!1,null,null,null),b=f.exports,h={mixins:[n["a"]],props:{header:String},components:{cSwitch:s["o"],BValidatedInputGroupFormInput:o["a"],EmailTestConfigurationModal:b},data:function(){return{isEmailEnabled:!1,emailFromAddress:"",emailPrefix:"",emailSmtpServer:"",emailSmtpPort:"",emailSmtpUsername:"",emailSmtpPassword:"",isSmtpSslTlsEnabled:!1,isEmailSmtpTrustCertEnabled:!1}},methods:{saveChanges:function(){this.updateConfigProperties([{groupName:"email",propertyName:"smtp.enabled",propertyValue:this.isEmailEnabled},{groupName:"email",propertyName:"smtp.from.address",propertyValue:this.emailFromAddress},{groupName:"email",propertyName:"subject.prefix",propertyValue:this.emailPrefix},{groupName:"email",propertyName:"smtp.server.hostname",propertyValue:this.emailSmtpServer},{groupName:"email",propertyName:"smtp.server.port",propertyValue:this.emailSmtpPort},{groupName:"email",propertyName:"smtp.username",propertyValue:this.emailSmtpUsername},{groupName:"email",propertyName:"smtp.ssltls",propertyValue:this.isSmtpSslTlsEnabled},{groupName:"email",propertyName:"smtp.trustcert",propertyValue:this.isEmailSmtpTrustCertEnabled}]),"HiddenDecryptedPropertyPlaceholder"!==this.emailSmtpPassword&&this.updateConfigProperty("email","smtp.password",this.emailSmtpPassword),"undefined"==typeof this.emailPrefix&&this.updateConfigProperty("email","subject.prefix"," ")}},created:function(){var e=this;this.axios.get(this.configUrl).then((function(t){for(var a=t.data.filter((function(e){return"email"===e.groupName})),i=0;i<a.length;i++){var r=a[i];switch(r.propertyName){case"smtp.enabled":e.isEmailEnabled=l["a"].toBoolean(r.propertyValue);break;case"smtp.from.address":e.emailFromAddress=r.propertyValue;break;case"subject.prefix":e.emailPrefix=r.propertyValue;break;case"smtp.server.hostname":e.emailSmtpServer=r.propertyValue;break;case"smtp.server.port":e.emailSmtpPort=r.propertyValue;break;case"smtp.username":e.emailSmtpUsername=r.propertyValue;break;case"smtp.password":e.emailSmtpPassword=r.propertyValue;break;case"smtp.ssltls":e.isSmtpSslTlsEnabled=l["a"].toBoolean(r.propertyValue);break;case"smtp.trustcert":e.isEmailSmtpTrustCertEnabled=l["a"].toBoolean(r.propertyValue);break}}}))}},g=h,v=Object(c["a"])(g,i,r,!1,null,null,null);t["default"]=v.exports},cc9d:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("validation-provider",{attrs:{vid:e.id,name:e.label,rules:e.rules,mode:e.mode},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.errors,r=a.valid;return[t("b-form-group",{attrs:{id:e.id,label:e.label,"label-for":"".concat(e.id,"-input")}},[t("b-input-group",{class:e.inputGroupSize},[e.icon?t("b-input-group-prepend",[t("b-input-group-text",[t("i",{class:e.icon})])],1):e._e(),t("b-form-input",e._g({class:e.inputClasses,attrs:{id:"".concat(e.id,"-input"),type:e.type,placeholder:e.label,state:e.errorHandlingMethod(i,r),autocomplete:e.autocomplete,autofocus:e.isFocused},model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}},e.inputListeners)),e.tooltip?t("b-input-group-append",[t("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.tooltip}},[t("i",{staticClass:"cui-info font-lg"})])],1):e._e()],1),t("b-form-invalid-feedback",{attrs:{state:e.errorHandlingMethod(i,r)}},[e._v("\n      "+e._s(i[0])+"\n    ")])],1)]}}])})},r=[],s=a("7bb1"),o=a("900c"),n={name:"BValidatedInputGroupFormInput",components:{ValidationProvider:s["b"]},props:{id:String,label:String,value:String,inputGroupSize:String,icon:String,rules:String,mode:String,type:String,autocomplete:String,autofocus:String,tooltip:String,lazy:String},data:function(){return{isFocused:!1}},beforeMount:function(){!0!==this.autofocus&&"true"!==this.autofocus||(this.isFocused=!0)},computed:{innerValue:{get:function(){return this.value},set:function(e){return e}},inputListeners:function(){var e=this;return Object.assign({},this.$listeners,{input:function(t){e.$emit("input",t)}})},inputClasses:function(){var e="form-control";return!o["a"].toBoolean(this.lazy)&&this.rules&&this.rules.includes("required")&&(e+=" required"),e}},methods:{errorHandlingMethod:function(e,t){return this.rules?o["a"].toBoolean(this.lazy)?!e[0]&&(!!t||null):!e[0]&&!!t:null}}},l=n,p=a("2877"),u=Object(p["a"])(l,i,r,!1,null,null,null);t["a"]=u.exports}}]);