(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8239f06a"],{"08c4":function(t,e,i){"use strict";var n=i("a026");function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function s(t,e,i){return(e=l(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t){var e=c(t,"string");return"symbol"==a(e)?e:e+""}function c(t,e){if("object"!=a(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["a"]={data:function(){return{vueFormatters:[]}},methods:{vueFormatter:function(t){var e="_vue_formatter_".concat(this.vueFormatters.length);return this.vueFormatters.push(r({el:".".concat(e),name:e},t)),'<div class="'.concat(e,'"/>')},vueFormatterInit:function(){if(this.vueFormatters.length)for(var t=this.vueFormatters.length-1;t>=0;t--){var e=this.vueFormatters[t];document.getElementsByClassName(e.name)&&(new n["default"](e),this.vueFormatters.splice(t,1))}}}}},"192b":function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("b-form-group",{attrs:{id:t.id,label:t.label,"label-for":"".concat(t.id,"-input"),"label-class":t.labelClasses}},[e("b-input-group",{class:t.inputGroupSize},[t.icon?e("b-input-group-prepend",[e("b-input-group-text",[e("i",{class:t.icon})])],1):t._e(),e("b-form-input",t._g({class:t.inputClasses,attrs:{id:"".concat(t.id,"-input"),type:t.type,placeholder:t.label,state:t.feedbackState(),autocomplete:t.autocomplete,autofocus:t.isFocused,required:t.isRequired,readonly:t.readonly,disabled:t.isDisabled,trim:""},on:{blur:function(e){t.hadFocus=!0}},model:{value:t.innerValue,callback:function(e){t.innerValue=e},expression:"innerValue"}},t.inputListeners)),t.tooltip?e("b-input-group-append",[e("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.tooltip}},[e("i",{staticClass:"cui-info font-lg"})])],1):t._e()],1),"true"===this.feedback?e("b-form-invalid-feedback",{attrs:{state:t.feedbackState()}},[t._v("\n    "+t._s(t.feedbackText)+"\n  ")]):t._e()],1)},a=[],o=i("900c"),r={props:{id:String,label:String,value:String,inputGroupSize:String,icon:String,type:String,autocomplete:String,autofocus:String,tooltip:String,feedbackText:String,feedback:String,lazy:String,required:String,readonly:Boolean,disabled:String,state:{default:void 0,type:Boolean}},data:function(){return{isFocused:!1,isRequired:!1,isDisabled:!1,hadFocus:!1}},beforeMount:function(){this.isFocused=o["a"].toBoolean(this.autofocus),this.isRequired=o["a"].toBoolean(this.required),this.isDisabled=o["a"].toBoolean(this.disabled)},computed:{innerValue:{get:function(){return this.value&&this.value.length,this.value},set:function(t){return t}},inputListeners:function(){var t=this;return Object.assign({},this.$listeners,{input:function(e){t.$emit("input",e)}})},inputClasses:function(){return this.isRequired?"required":null},labelClasses:function(){return this.isRequired?"required":null}},methods:{feedbackState:function(){if(!this.isDisabled||this.isRequired)return void 0!==this.state?this.state:o["a"].toBoolean(this.lazy)&&o["a"].toBoolean(this.required)?!!(this.value&&this.value.length>0)||!this.hadFocus&&void 0:!!(this.value&&this.value.length>0)||void 0}}},s=r,l=i("2877"),c=Object(l["a"])(s,n,a,!1,null,null,null);e["a"]=c.exports},"2ce4":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("b-card",{attrs:{"no-body":"",header:t.header}},[e("b-card-body",[e("div",{attrs:{id:"customToolbar"}},[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.createAlertModal",modifiers:{createAlertModal:!0}}],attrs:{size:"md",variant:"outline-primary"}},[e("span",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("admin.create_alert"))+"\n      ")])],1),e("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1),e("create-alert-modal",{on:{refreshTable:t.refreshTable}})],1)},a=[],o=i("6c36"),r=i.n(o),s=i("900c"),l=i("12cb"),c=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"createAlertModal",size:"md","hide-header-close":"","no-stacking":"",title:t.$t("admin.create_alert")},scopedSlots:t._u([{key:"modal-footer",fn:function(i){var n=i.cancel;return[e("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(t._s(t.$t("message.close")))]),e("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(e){return t.createAlert()}}},[t._v(t._s(t.$t("message.create")))])]}}])},[e("b-form-group",{attrs:{id:"fieldset-1",label:this.$t("message.name"),"label-for":"input-1","label-class":"required"}},[e("b-form-input",{staticClass:"required",attrs:{id:"input-1",required:"",trim:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e("b-form-group",{attrs:{id:"fieldset-2",label:this.$t("admin.scope"),"label-for":"input-2"}},[e("b-form-select",{attrs:{id:"input-2",options:t.availableScopes,required:""},model:{value:t.scope,callback:function(e){t.scope=e},expression:"scope"}})],1),e("b-form-group",{attrs:{id:"fieldset-3",label:this.$t("admin.notification_level"),"label-for":"input-3"}},[e("b-form-select",{attrs:{id:"input-3",options:t.availableLevels,required:""},model:{value:t.notificationLevel,callback:function(e){t.notificationLevel=e},expression:"notificationLevel"}})],1),e("b-form-group",{attrs:{id:"fieldset-4",label:this.$t("admin.publisher"),"label-for":"input-4"}},[e("b-form-select",{attrs:{id:"input-4",options:t.availablePublishers,required:""},model:{value:t.publisher,callback:function(e){t.publisher=e},expression:"publisher"}})],1)],1)},u=[],d=i("7c15"),f=i("cee4"),p={mixins:[d["a"]],data:function(){return{name:null,scope:"PORTFOLIO",notificationLevel:"INFORMATIONAL",publisher:null,labelIcon:{dataOn:"✓",dataOff:"✕"},availableScopes:[{value:"PORTFOLIO",text:"Portfolio"},{value:"SYSTEM",text:"System"}],availableLevels:[{value:"INFORMATIONAL",text:"Informational",selected:!0},{value:"WARNING",text:"Warning"},{value:"ERROR",text:"Error"}],availablePublishers:[]}},created:function(){var t=this;f["a"].get("".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_PUBLISHER)).then((function(e){for(var i=0;i<e.data.length;i++)t.availablePublishers.push({value:e.data[i].uuid,text:e.data[i].name})}))},methods:{createAlert:function(){var t=this;this.$root.$emit("bv::hide::modal","createAlertModal");var e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_RULE);this.axios.put(e,{name:this.name,scope:this.scope,notificationLevel:this.notificationLevel,publisher:{uuid:this.publisher}}).then((function(){t.$emit("refreshTable"),t.$toastr.s(t.$t("admin.alert_created"))})).catch((function(){t.$toastr.w(t.$t("condition.unsuccessful_action"))})),this.resetValues()},resetValues:function(){this.name=null,this.scope="PORTFOLIO",this.notificationLevel="INFORMATIONAL",this.publisher=null}}},m=p,h=i("2877"),b=Object(h["a"])(m,c,u,!1,null,null,null),v=b.exports,g=i("08c4"),_=i("f547"),E=i("e68f"),T=i("f307"),A=i("c9ca"),O=i("2f0e"),S=i("192b"),I=i("c7a0"),L=i.n(I),N=i("f1fb"),R={props:{header:String},mixins:[g["a"]],components:{CreateAlertModal:v},mounted:function(){var t=this;_["a"].$on("admin:alerts:rowUpdate",(function(e,i){t.$refs.table.updateRow({index:e,row:i}),t.$refs.table.expandRow(e)})),_["a"].$on("admin:alerts:rowDeleted",(function(e,i){t.refreshTable()}))},beforeDestroy:function(){_["a"].$off("admin:alerts:rowUpdate"),_["a"].$off("admin:alerts:rowDeleted")},data:function(){var t=this;return{columns:[{title:this.$t("message.name"),field:"name",sortable:!1,formatter:function(t,e,i){return r.a.inHTMLData(s["a"].valueWithDefault(t,""))}},{title:this.$t("admin.publisher"),field:"publisher.name",sortable:!1,formatter:function(t,e,i){return r.a.inHTMLData(s["a"].valueWithDefault(t,""))}},{title:this.$t("admin.scope"),field:"scope",sortable:!1,formatter:function(t,e,i){return r.a.inHTMLData(s["a"].valueWithDefault(t,""))}},{title:this.$t("admin.notification_level"),field:"notificationLevel",sortable:!1,formatter:function(t,e,i){return r.a.inHTMLData(s["a"].valueWithDefault(t,""))}},{title:this.$t("admin.enabled"),field:"enabled",sortable:!1,align:"center",formatter:function(t,e,i){return!0===t?'<i class="fa fa-check-square-o" />':""}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"server",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},detailView:!0,detailViewIcon:!1,detailViewByClick:!0,detailFormatter:function(e,i){return t.vueFormatter({i18n:l["a"],template:'\n                <b-row class="expanded-row">\n                  <b-col sm="6">\n                    <b-input-group-form-input id="input-name" :label="$t(\'message.name\')" input-group-size="mb-3"\n                                              required="true" type="text" v-model="name" lazy="true" />\n                    <b-form-group>\n                      <c-switch id="notificationEnabled" color="primary" v-model="enabled" label v-bind="labelIcon"/>\n                      {{ $t(\'admin.enabled\') }}\n                      <br/>\n                      <c-switch id="notificationLogSuccessfulPublish" color="primary" v-model="logSuccessfulPublish" label v-bind="labelIcon" :title="$t(\'admin.alert_log_successful_publish_help\')" />\n                      {{ $t(\'admin.alert_log_successful_publish\') }}\n                    </b-form-group>\n                    <b-form-group id="fieldset-2" :label="this.$t(\'admin.publisher\')" label-for="input-2">\n                      <b-form-input id="input-2" v-model="publisherName" disabled class="form-control disabled" readonly trim />\n                    </b-form-group>\n                    <b-form-group id="fieldset-2" :label="this.$t(\'admin.publisher_class\')" label-for="input-2">\n                      <b-form-input id="input-2" v-model="publisherClass" disabled class="form-control disabled" readonly trim />\n                    </b-form-group>\n                    <b-form-group id="fieldset-3" :label="this.$t(\'admin.notification_level\')" label-for="input-3">\n                      <b-form-select id="input-3" v-model="notificationLevel" :options="availableLevels" required></b-form-select>\n                    </b-form-group>\n                    <b-input-group-form-input id="input-destination" :label="$t(\'admin.destination\')" input-group-size="mb-3"\n                                              :required="(!(this.alert.hasOwnProperty(\'teams\') && this.alert.teams != null && this.alert.teams.length > 0)).toString()"\n                                              type="text" v-model="destination" lazy="true" />\n                    <b-input-group-form-input v-if="this.publisherClass === \'org.dependencytrack.notification.publisher.WebhookPublisher\'" id="input-token-header" :label="$t(\'admin.api_token_header\')" input-group-size="mb-3"\n                                              type="password" v-model="tokenHeader" lazy="true" />\n                    <b-input-group-form-input v-if="this.publisherClass === \'org.dependencytrack.notification.publisher.WebhookPublisher\'" id="input-token" :label="$t(\'admin.api_token\')" input-group-size="mb-3"\n                                              type="password" v-model="token" lazy="true" />\n                    <b-input-group-form-input v-if="this.publisherClass === \'org.dependencytrack.notification.publisher.JiraPublisher\'" id="input-jira-ticket-type"\n                                              :label="$t(\'admin.jira_ticket_type\')" :required="true" type="text" v-model="jiraTicketType" lazy="true" />\n                     <b-form-group v-if="this.publisherClass === \'org.dependencytrack.notification.publisher.SendMailPublisher\'"\n                                   id="teamDestinationList" :label="this.$t(\'admin.select_team_as_recipient\')">\n                       <div class="list group">\n                          <span v-for="team in teams">\n                            <actionable-list-group-item :value="team.name" :delete-icon="true" v-on:actionClicked="removeSelectedTeam(team.uuid)"></actionable-list-group-item>\n                          </span>\n                          <actionable-list-group-item :add-icon="true" v-on:actionClicked="$root.$emit(\'bv::show::modal\', \'selectTeamModal\')"></actionable-list-group-item>\n                        </div>\n                      </b-form-group>\n                    <b-form-group v-if="limitToVisible === true" id="projectLimitsList" :label="this.$t(\'admin.limit_to_projects\')">\n                      <div class="list-group">\n                        <span v-for="project in projects">\n                          <actionable-list-group-item :value="formatProjectLabel(project.name, project.version)" :delete-icon="true" v-on:actionClicked="deleteLimiter(project.uuid)"/>\n                        </span>\n                        <actionable-list-group-item :add-icon="true" v-on:actionClicked="$root.$emit(\'bv::show::modal\', \'selectProjectModal\')"/>\n                      </div>\n                    </b-form-group>\n                    <b-form-group v-if="limitToVisible" id="tagLimits" :label="this.$t(\'admin.limit_to_tags\')">\n                      <vue-tags-input\n                        id="limitToTagsInput"\n                        v-model="tag"\n                        :tags="tags"\n                        :add-on-key="addOnKeys"\n                        :placeholder="$t(\'message.add_tag\')"\n                        :autocomplete-items="tagsAutoCompleteItems"\n                        @tags-changed="(newTags) => (this.tags = newTags)"\n                        class="mw-100 bg-transparent text-lowercase"\n                      />\n                    </b-form-group>\n                  <div v-if="limitToVisible === true">\n                      <c-switch id="isNotifyChildrenEnabled" color="primary" v-model="notifyChildren" label v-bind="labelIcon"/>\n                      {{ $t(\'admin.include_active_children\') }}\n                  </div>\n                  </b-col>\n                  <b-col sm="6">\n                    <b-form-group id="fieldset-5" :label="this.$t(\'admin.scope\')" label-for="input-5">\n                      <b-form-input id="input-5" v-model="scope" disabled class="form-control disabled" readonly trim />\n                    </b-form-group>\n                    <b-form-group id="fieldset-6" :label="this.$t(\'admin.group\')" label-for="input-6">\n                      <div class="list-group" v-if="this.scope === \'PORTFOLIO\'">\n                        <b-form-checkbox-group id="checkbox-group-notify-on" v-model="notifyOn">\n                          <div class="list-group-item"><b-form-checkbox value="NEW_VULNERABILITY">NEW_VULNERABILITY</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="NEW_VULNERABLE_DEPENDENCY">NEW_VULNERABLE_DEPENDENCY</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="PROJECT_AUDIT_CHANGE">PROJECT_AUDIT_CHANGE</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="BOM_CONSUMED">BOM_CONSUMED</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="BOM_PROCESSED">BOM_PROCESSED</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="BOM_PROCESSING_FAILED">BOM_PROCESSING_FAILED</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="BOM_VALIDATION_FAILED">BOM_VALIDATION_FAILED</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="VEX_CONSUMED">VEX_CONSUMED</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="VEX_PROCESSED">VEX_PROCESSED</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="POLICY_VIOLATION">POLICY_VIOLATION</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="PROJECT_CREATED">PROJECT_CREATED</b-form-checkbox></div>\n                        </b-form-checkbox-group>\n                      </div>\n                      <div class="list-group" v-if="this.scope === \'SYSTEM\'">\n                        <b-form-checkbox-group id="checkbox-group-notify-on" v-model="notifyOn">\n                          <div class="list-group-item"><b-form-checkbox value="ANALYZER">ANALYZER</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="DATASOURCE_MIRRORING">DATASOURCE_MIRRORING</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="FILE_SYSTEM">FILE_SYSTEM</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="INDEXING_SERVICE">INDEXING_SERVICE</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="REPOSITORY">REPOSITORY</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="USER_CREATED">USER_CREATED</b-form-checkbox></div>\n                          <div class="list-group-item"><b-form-checkbox value="USER_DELETED">USER_DELETED</b-form-checkbox></div>\n                        </b-form-checkbox-group>\n                      </div>\n                    </b-form-group>\n                    <div style="text-align:right">\n                      <b-button variant="outline-primary" @click="testNotification">{{ $t(\'admin.perform_test\') }}</b-button>\n                      <b-toggleable-display-button variant="outline-primary" :label="$t(\'admin.limit_to\')"\n                                v-permission="PERMISSIONS.VIEW_PORTFOLIO" v-on:toggle="limitToVisible = !limitToVisible"\n                                v-if="this.scope === \'PORTFOLIO\'" />\n                       <b-button variant="outline-danger" @click="deleteNotificationRule">{{ $t(\'admin.delete_alert\') }}</b-button>\n                       <b-button variant="primary" @click="updateNotificationRule">{{ $t(\'admin.submit\') }}</b-button>\n                    </div>\n                  </b-col>\n                  <select-project-modal v-on:selection="updateProjectSelection"/>\n                  <select-team-modal v-on:selection="updateTeamSelection"></select-team-modal>\n                </b-row>\n              ',mixins:[d["a"]],components:{ActionableListGroupItem:E["a"],SelectProjectModal:T["a"],SelectTeamModal:A["a"],BToggleableDisplayButton:O["a"],BInputGroupFormInput:S["a"],VueTagsInput:L.a,cSwitch:N["o"]},data:function(){return{alert:i,uuid:i.uuid,name:i.name,enabled:i.enabled,logSuccessfulPublish:i.logSuccessfulPublish,notifyChildren:i.notifyChildren,publisherName:i.publisher.name,publisherClass:i.publisher.publisherClass,notificationLevel:i.notificationLevel,destination:this.parseDestination(i),token:this.parseToken(i),tokenHeader:this.parseTokenHeader(i),jiraTicketType:this.parseJiraTicketType(i),scope:i.scope,notifyOn:i.notifyOn,projects:i.projects,teams:i.teams,limitToVisible:!1,tag:"",tags:[],tagsAutoCompleteItems:[],tagsAutoCompleteDebounce:null,addOnKeys:[9,13,32,":",";",","],labelIcon:{dataOn:"✓",dataOff:"✕"},availableLevels:[{value:"INFORMATIONAL",text:"Informational",selected:!0},{value:"WARNING",text:"Warning"},{value:"ERROR",text:"Error"}]}},created:function(){this.initializeTags(),this.parseDestination(this.alert),this.parseToken(this.alert),this.parseTokenHeader(this.alert),this.parseJiraTicketType(this.alert)},watch:{alert:function(){this.initializeTags()},tag:"searchTags"},methods:{initializeTags:function(){this.tags=(this.alert.tags||[]).map((function(t){return{text:t.name}}))},formatProjectLabel:function(t,e){return t&&e?t+" "+e:t},parseDestination:function(t){if(t.publisherConfig){var e=JSON.parse(t.publisherConfig);return e?e.destination:null}},parseToken:function(t){if(t.publisherConfig){var e=JSON.parse(t.publisherConfig);return e?e.token:null}},parseTokenHeader:function(t){if(t.publisherConfig){var e=JSON.parse(t.publisherConfig);return e?e.tokenHeader:null}},parseJiraTicketType:function(t){if(t.publisherConfig){var e=JSON.parse(t.publisherConfig);return e?e.jiraTicketType:null}},updateNotificationRule:function(){var t=this,i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_RULE);this.axios.post(i,{uuid:this.uuid,name:this.name,enabled:this.enabled,logSuccessfulPublish:this.logSuccessfulPublish,notifyChildren:this.notifyChildren,notificationLevel:this.notificationLevel,publisherConfig:JSON.stringify({destination:this.destination,jiraTicketType:this.jiraTicketType,token:this.token,tokenHeader:this.tokenHeader}),notifyOn:this.notifyOn,tags:this.tags.map((function(t){return{name:t.text}}))}).then((function(i){t.alert=i.data,t.destination=t.parseDestination(t.alert),t.token=t.parseToken(t.alert),t.tokenHeader=t.parseTokenHeader(t.alert),t.jiraTicketType=t.parseJiraTicketType(t.alert),_["a"].$emit("admin:alerts:rowUpdate",e,t.alert),t.$toastr.s(t.$t("message.updated"))})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},deleteNotificationRule:function(){var t=this,i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_RULE);this.axios.delete(i,{data:{uuid:this.alert.uuid}}).then((function(i){_["a"].$emit("admin:alerts:rowDeleted",e),t.$toastr.s(t.$t("admin.alert_deleted"))})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},deleteLimiter:function(t){var e=this,i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_RULE,"/").concat(this.uuid,"/project/").concat(t);this.axios.delete(i).then((function(i){for(var n=[],a=0;a<e.projects.length;a++)e.projects[a].uuid!==t&&n.push(e.projects[a]);e.projects=n,e.$toastr.s(e.$t("message.updated"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},testNotification:function(){var t=this,e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_PUBLISHER,"/test/").concat(this.uuid),i=new URLSearchParams;i.append("destination",this.destination),this.axios.post(e,i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.alert=e.data,t.$toastr.s(t.$t("admin.test_notification_queued"))})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},updateProjectSelection:function(t){var e=this;this.$root.$emit("bv::hide::modal","selectProjectModal");for(var i=function(){var i=t[n],a="".concat(e.$api.BASE_URL,"/").concat(e.$api.URL_NOTIFICATION_RULE,"/").concat(e.uuid,"/project/").concat(i.uuid);e.axios.post(a).then((function(t){e.projects.push(i),e.$toastr.s(e.$t("message.updated"))})).catch((function(t){304===t.response.status||e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},n=0;n<t.length;n++)i()},updateTeamSelection:function(t){var e=this;this.$root.$emit("bv::hide::modal","selectTeamModal");for(var i=function(){var i=t[n],a="".concat(e.$api.BASE_URL,"/").concat(e.$api.URL_NOTIFICATION_RULE,"/").concat(e.uuid,"/team/").concat(i.uuid);e.axios.post(a).then((function(t){if(e.teams)e.teams.push(i);else{e.teams=[];var n={uuid:i.uuid,name:i.name};e.teams.push(n)}})).catch((function(t){304===t.response.status||e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},n=0;n<t.length;n++)i()},removeSelectedTeam:function(t){var e=this,i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_RULE,"/").concat(this.uuid,"/team/").concat(t);this.axios.delete(i).then((function(i){for(var n=[],a=0;a<e.teams.length;a++)e.teams[a].uuid!==t&&n.push(e.teams[a]);e.teams=n})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},searchTags:function(){var t=this;this.tag&&(clearTimeout(this.tagsAutoCompleteDebounce),this.tagsAutoCompleteDebounce=setTimeout((function(){var e="".concat(t.$api.BASE_URL,"/").concat(t.$api.URL_TAG,"?searchText=").concat(encodeURIComponent(t.tag),"&pageNumber=1&pageSize=6");t.axios.get(e).then((function(e){t.tagsAutoCompleteItems=e.data.map((function(t){return{text:t.name}}))}))}),250))}}})},onExpandRow:this.vueFormatterInit,toolbar:"#customToolbar",responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_RULE)}}},methods:{refreshTable:function(){this.$refs.table.refresh({silent:!0})}}},y=R,k=(i("767d"),Object(h["a"])(y,n,a,!1,null,null,null));e["default"]=k.exports},"2f0e":function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("b-button",{attrs:{pressed:t.toggle,variant:t.variant},on:{"update:pressed":function(e){t.toggle=e},click:function(e){return t.$emit("toggle")}}},[e("i",{class:t.iconClass}),t._v(" "+t._s(t.label))])},a=[],o={props:{variant:String,label:String},computed:{iconClass:function(){return!0===this.toggle?"fa fa-chevron-up":"fa fa-chevron-down"}},data:function(){return{toggle:!1}}},r=o,s=i("2877"),l=Object(s["a"])(r,n,a,!1,null,null,null);e["a"]=l.exports},4030:function(t,e,i){},"767d":function(t,e,i){"use strict";i("4030")},"7c15":function(t,e,i){"use strict";var n=i("a4c1");function a(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=o(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw r}}}}function o(t,e){if(t){if("string"==typeof t)return r(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}e["a"]={data:function(){return{PERMISSIONS:{BOM_UPLOAD:n["f"],VIEW_PORTFOLIO:n["A"],PORTFOLIO_MANAGEMENT:n["m"],PORTFOLIO_MANAGEMENT_CREATE:n["n"],PORTFOLIO_MANAGEMENT_READ:n["p"],PORTFOLIO_MANAGEMENT_UPDATE:n["q"],PORTFOLIO_MANAGEMENT_DELETE:n["o"],VIEW_VULNERABILITY:n["B"],VULNERABILITY_ANALYSIS:n["C"],VULNERABILITY_ANALYSIS_CREATE:n["D"],VULNERABILITY_ANALYSIS_READ:n["E"],VULNERABILITY_ANALYSIS_UPDATE:n["F"],VIEW_POLICY_VIOLATION:n["z"],VULNERABILITY_MANAGEMENT:n["G"],VULNERABILITY_MANAGEMENT_CREATE:n["H"],VULNERABILITY_MANAGEMENT_READ:n["J"],VULNERABILITY_MANAGEMENT_UPDATE:n["K"],VULNERABILITY_MANAGEMENT_DELETE:n["I"],POLICY_VIOLATION_ANALYSIS:n["l"],ACCESS_MANAGEMENT:n["a"],ACCESS_MANAGEMENT_CREATE:n["b"],ACCESS_MANAGEMENT_READ:n["d"],ACCESS_MANAGEMENT_UPDATE:n["e"],ACCESS_MANAGEMENT_DELETE:n["c"],SYSTEM_CONFIGURATION:n["s"],SYSTEM_CONFIGURATION_CREATE:n["t"],SYSTEM_CONFIGURATION_READ:n["v"],SYSTEM_CONFIGURATION_UPDATE:n["w"],SYSTEM_CONFIGURATION_DELETE:n["u"],PROJECT_CREATION_UPLOAD:n["r"],POLICY_MANAGEMENT:n["g"],POLICY_MANAGEMENT_CREATE:n["h"],POLICY_MANAGEMENT_READ:n["j"],POLICY_MANAGEMENT_UPDATE:n["k"],POLICY_MANAGEMENT_DELETE:n["i"],TAG_MANAGEMENT:n["x"],TAG_MANAGEMENT_DELETE:n["y"]}}},computed:{decodedToken:function(){return n["L"](n["M"]())}},methods:{isPermitted:function(t){if("string"==typeof t)return n["N"](t,this.decodedToken);if(Array.isArray(t)){var e,i=a(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(n["N"](o,this.decodedToken))return!0}}catch(r){i.e(r)}finally{i.f()}return!1}throw new Error("permission must be of type string or array")},isNotPermitted:function(t){if("string"==typeof t)return!n["N"](t,this.decodedToken);if(Array.isArray(t)){var e,i=a(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(n["N"](o,this.decodedToken))return!1}}catch(r){i.e(r)}finally{i.f()}return!0}throw new Error("permission must be of type string or array")}}}},"847e":function(t,e,i){"use strict";i("c02e")},c02e:function(t,e,i){},c9ca:function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"selectTeamModal",size:"lg","hide-header-close":"","no-stacking":"",title:t.$t("admin.select_team")},scopedSlots:t._u([{key:"modal-footer",fn:function(i){var n=i.cancel;return[e("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(t._s(t.$t("message.cancel")))]),e("b-button",{attrs:{size:"md",variant:"primary",disabled:t.selectionHasChanged},on:{click:t.handleSelection}},[t._v(t._s(t.$t("message.select")))])]}}])},[e("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1)},a=[],o=i("6c36"),r=i.n(o),s=i("7c15"),l=i("900c"),c={props:{currentTeams:{type:Array,default:function(){return[]}}},mixins:[s["a"]],data:function(){var t=this;return{currentSelection:[],labelIcon:{dataOn:"✓",dataOff:"✕"},columns:[{field:"state",checkbox:!0,align:"center"},{title:this.$t("admin.team_name"),field:"name",sortable:!0,formatter:function(t){return r.a.inHTMLData(l["a"].valueWithDefault(t,""))}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_TEAM),onLoadSuccess:function(){var e=t.currentTeams.map((function(t){return t.name}));t.$refs.table.checkBy({field:"name",values:e})},onCheck:this.updateCurrentSelection,onUncheck:this.updateCurrentSelection,onCheckAll:this.updateCurrentSelection,onUncheckAll:this.updateCurrentSelection}}},computed:{selectionHasChanged:function(){var t=this;if(0===this.currentSelection.length&&0===this.currentTeams.length)return!0;if(this.currentSelection.length!==this.currentTeams.length)return!1;var e=this.currentSelection.every((function(e){return t.currentTeams.some((function(t){return t.name===e.name}))}));return e&&this.currentTeams.every((function(e){return t.currentSelection.some((function(t){return t.name===e.name}))}))}},methods:{handleSelection:function(){this.$bvModal.hide("selectTeamModal"),this.$emit("selection",this.currentSelection)},updateCurrentSelection:function(){this.currentSelection=this.$refs.table.getSelections()}}},u=c,d=i("2877"),f=Object(d["a"])(u,n,a,!1,null,null,null);e["a"]=f.exports},e68f:function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("li",{staticClass:"list-group-item align-middle"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pull-right action-icon",attrs:{size:"sm",title:t.tooltip},on:{click:function(e){return t.$emit("actionClicked")}}},[this.addIcon?e("span",{staticClass:"fa fa-plus-square"}):t._e(),this.deleteIcon?e("span",{staticClass:"fa fa-trash-o"}):t._e()]),t.$slots&&t.$slots.default&&t.$slots.default[0]?t._t("default"):e("span",[this.href?e("a",{attrs:{href:t.href}},[t._v(t._s(t.value))]):e("span",[t._v(t._s(t.value))]),t._v(" ")])],2)},a=[],o={props:{value:String,tooltip:String,addIcon:Boolean,deleteIcon:Boolean,variant:String,href:String}},r=o,s=(i("847e"),i("2877")),l=Object(s["a"])(r,n,a,!1,null,"683f4500",null);e["a"]=l.exports},f307:function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("b-modal",{directives:[{name:"permission",rawName:"v-permission",value:"VIEW_PORTFOLIO",expression:"'VIEW_PORTFOLIO'"}],attrs:{id:"selectProjectModal",size:"lg","hide-header-close":"","no-stacking":"",title:t.$t("message.select_project")},scopedSlots:t._u([{key:"modal-footer",fn:function(i){var n=i.cancel;return[e("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(t._s(t.$t("message.cancel")))]),e("b-button",{attrs:{size:"md",variant:"primary"},on:{click:t.handleSelection}},[t._v(t._s(t.$t("message.select")))])]}}])},[e("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1)},a=[],o=i("6c36"),r=i.n(o),s=i("7c15"),l=i("900c"),c={mixins:[s["a"]],props:{username:{type:String,default:null}},methods:{apiUrl:function(){var t="";return this.username?(t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ACL_USER,"/").concat(this.username),t):(t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PROJECT),void 0===this.showInactiveProjects?t+="?excludeInactive=true":t+="?excludeInactive="+!this.showInactiveProjects,t)},refreshTable:function(){this.$refs.table.refresh({url:this.apiUrl(),pageNumber:1,silent:!0})},handleSelection:function(){this.$root.$emit("bv::hide::modal",this.$children[0].id),this.$emit("selection",this.$refs.table.getSelections())}},watch:{showInactiveProjects:function(){this.refreshTable()}},data:function(){return{showInactiveProjects:!1,labelIcon:{dataOn:"✓",dataOff:"✕"},columns:[{field:"state",checkbox:!0,align:"center"},{title:this.$t("message.project_name"),field:"name",sortable:!0,formatter:function(t){return r.a.inHTMLData(l["a"].valueWithDefault(t,""))}},{title:this.$t("message.version"),field:"version",sortable:!0,formatter:function(t){return r.a.inHTMLData(l["a"].valueWithDefault(t,""))}},{title:this.$t("message.active"),field:"active",formatter:function(t){return!0===t?'<i class="fa fa-check-square-o" />':""},align:"center",class:"tight",sortable:!0}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"server",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},toolbar:"#projectsToolbar",responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:this.apiUrl()}}}},u=c,d=i("2877"),f=Object(d["a"])(u,n,a,!1,null,null,null);e["a"]=f.exports}}]);