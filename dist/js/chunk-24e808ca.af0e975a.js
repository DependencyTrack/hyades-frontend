(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24e808ca"],{"0864":function(t,e,n){"use strict";var i=n("900c");e["a"]={data:function(){return{configUrl:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/"),labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateConfigProperties:function(t){for(var e=this,n=[],r=0;r<t.length;r++){var o=t[r];o.propertyValue=i["a"].trimToNull(o.propertyValue),n.push(o)}var a="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(a,n).then((function(t){e.$toastr.s(e.$t("admin.configuration_saved"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},updateConfigProperty:function(t,e,n){var r=this;n=i["a"].trimToNull(n);var o="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/");this.axios.post(o,{groupName:t,propertyName:e,propertyValue:n}).then((function(t){r.$toastr.s(r.$t("admin.configuration_saved"))})).catch((function(t){r.$toastr.w(r.$t("condition.unsuccessful_action"))}))}}}},"08c4":function(t,e,n){"use strict";var i=n("a026");function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=c(t,"string");return"symbol"==r(e)?e:e+""}function c(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["a"]={data:function(){return{vueFormatters:[]}},methods:{vueFormatter:function(t){var e="_vue_formatter_".concat(this.vueFormatters.length);return this.vueFormatters.push(a({el:".".concat(e),name:e},t)),'<div class="'.concat(e,'"/>')},vueFormatterInit:function(){if(this.vueFormatters.length)for(var t=this.vueFormatters.length-1;t>=0;t--){var e=this.vueFormatters[t];document.getElementsByClassName(e.name)&&(new i["default"](e),this.vueFormatters.splice(t,1))}}}}},"192b":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("b-form-group",{attrs:{id:t.id,label:t.label,"label-for":"".concat(t.id,"-input"),"label-class":t.labelClasses}},[e("b-input-group",{class:t.inputGroupSize},[t.icon?e("b-input-group-prepend",[e("b-input-group-text",[e("i",{class:t.icon})])],1):t._e(),e("b-form-input",t._g({class:t.inputClasses,attrs:{id:"".concat(t.id,"-input"),type:t.type,placeholder:t.label,state:t.feedbackState(),autocomplete:t.autocomplete,autofocus:t.isFocused,required:t.isRequired,readonly:t.readonly,disabled:t.isDisabled,trim:""},on:{blur:function(e){t.hadFocus=!0}},model:{value:t.innerValue,callback:function(e){t.innerValue=e},expression:"innerValue"}},t.inputListeners)),t.tooltip?e("b-input-group-append",[e("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.tooltip}},[e("i",{staticClass:"cui-info font-lg"})])],1):t._e()],1),"true"===this.feedback?e("b-form-invalid-feedback",{attrs:{state:t.feedbackState()}},[t._v("\n    "+t._s(t.feedbackText)+"\n  ")]):t._e()],1)},r=[],o=n("900c"),a={props:{id:String,label:String,value:String,inputGroupSize:String,icon:String,type:String,autocomplete:String,autofocus:String,tooltip:String,feedbackText:String,feedback:String,lazy:String,required:String,readonly:Boolean,disabled:String,state:{default:void 0,type:Boolean}},data:function(){return{isFocused:!1,isRequired:!1,isDisabled:!1,hadFocus:!1}},beforeMount:function(){this.isFocused=o["a"].toBoolean(this.autofocus),this.isRequired=o["a"].toBoolean(this.required),this.isDisabled=o["a"].toBoolean(this.disabled)},computed:{innerValue:{get:function(){return this.value&&this.value.length,this.value},set:function(t){return t}},inputListeners:function(){var t=this;return Object.assign({},this.$listeners,{input:function(e){t.$emit("input",e)}})},inputClasses:function(){return this.isRequired?"required":null},labelClasses:function(){return this.isRequired?"required":null}},methods:{feedbackState:function(){if(!this.isDisabled||this.isRequired)return void 0!==this.state?this.state:o["a"].toBoolean(this.lazy)&&o["a"].toBoolean(this.required)?!!(this.value&&this.value.length>0)||!this.hadFocus&&void 0:!!(this.value&&this.value.length>0)||void 0}}},s=a,u=n("2877"),c=Object(u["a"])(s,i,r,!1,null,null,null);e["a"]=c.exports},"7c15":function(t,e,n){"use strict";var i=n("a4c1");function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}e["a"]={data:function(){return{PERMISSIONS:{BOM_UPLOAD:i["f"],VIEW_PORTFOLIO:i["A"],PORTFOLIO_MANAGEMENT:i["m"],PORTFOLIO_MANAGEMENT_CREATE:i["n"],PORTFOLIO_MANAGEMENT_READ:i["p"],PORTFOLIO_MANAGEMENT_UPDATE:i["q"],PORTFOLIO_MANAGEMENT_DELETE:i["o"],VIEW_VULNERABILITY:i["B"],VULNERABILITY_ANALYSIS:i["C"],VULNERABILITY_ANALYSIS_CREATE:i["D"],VULNERABILITY_ANALYSIS_READ:i["E"],VULNERABILITY_ANALYSIS_UPDATE:i["F"],VIEW_POLICY_VIOLATION:i["z"],VULNERABILITY_MANAGEMENT:i["G"],VULNERABILITY_MANAGEMENT_CREATE:i["H"],VULNERABILITY_MANAGEMENT_READ:i["J"],VULNERABILITY_MANAGEMENT_UPDATE:i["K"],VULNERABILITY_MANAGEMENT_DELETE:i["I"],POLICY_VIOLATION_ANALYSIS:i["l"],ACCESS_MANAGEMENT:i["a"],ACCESS_MANAGEMENT_CREATE:i["b"],ACCESS_MANAGEMENT_READ:i["d"],ACCESS_MANAGEMENT_UPDATE:i["e"],ACCESS_MANAGEMENT_DELETE:i["c"],SYSTEM_CONFIGURATION:i["s"],SYSTEM_CONFIGURATION_CREATE:i["t"],SYSTEM_CONFIGURATION_READ:i["v"],SYSTEM_CONFIGURATION_UPDATE:i["w"],SYSTEM_CONFIGURATION_DELETE:i["u"],PROJECT_CREATION_UPLOAD:i["r"],POLICY_MANAGEMENT:i["g"],POLICY_MANAGEMENT_CREATE:i["h"],POLICY_MANAGEMENT_READ:i["j"],POLICY_MANAGEMENT_UPDATE:i["k"],POLICY_MANAGEMENT_DELETE:i["i"],TAG_MANAGEMENT:i["x"],TAG_MANAGEMENT_DELETE:i["y"]}}},computed:{decodedToken:function(){return i["L"](i["M"]())}},methods:{isPermitted:function(t){if("string"==typeof t)return i["N"](t,this.decodedToken);if(Array.isArray(t)){var e,n=r(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(i["N"](o,this.decodedToken))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}throw new Error("permission must be of type string or array")},isNotPermitted:function(t){if("string"==typeof t)return!i["N"](t,this.decodedToken);if(Array.isArray(t)){var e,n=r(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(i["N"](o,this.decodedToken))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}throw new Error("permission must be of type string or array")}}}},"847e":function(t,e,n){"use strict";n("c02e")},"8d9e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("b-card",{attrs:{"no-body":"",header:t.header}},[e("b-card-body",[e("div",{attrs:{id:"customToolbar"}},[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.createRoleModal",modifiers:{createRoleModal:!0}}],attrs:{size:"md",variant:"outline-primary"}},[e("span",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("admin.create_role"))+"\n      ")])],1),e("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1),e("create-role-modal",{on:{refreshTable:t.refreshTable}})],1)},r=[],o=n("6c36"),a=n.n(o),s=n("900c"),u=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"createRoleModal",size:"md","hide-header-close":"",title:t.$t("admin.create_role")},on:{hide:function(e){return t.resetValues()}},scopedSlots:t._u([{key:"modal-footer",fn:function(n){var i=n.cancel;return[e("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return i()}}},[t._v("\n      "+t._s(t.$t("message.close"))+"\n    ")]),e("b-button",{attrs:{size:"md",variant:"primary",disabled:!t.name},on:{click:function(e){return t.createRole()}}},[t._v("\n      "+t._s(t.$t("message.create"))+"\n    ")])]}}])},[e("b-input-group-form-input",{attrs:{id:"name-input","input-group-size":"mb-3",type:"text",lazy:"true",required:"true",feedback:"true",autofocus:"false",label:t.$t("admin.role_name"),"feedback-text":t.$t("admin.required_role_name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("b-form-group",{attrs:{label:t.$t("admin.permissions")}},[e("div",{staticClass:"list-group"},[t._l(t.permissions,(function(n){return e("span",{key:n.id},[e("actionable-list-group-item",{attrs:{value:n.name,"delete-icon":!0},on:{actionClicked:function(e){return t.removePermission(n)}}})],1)})),e("actionable-list-group-item",{attrs:{"add-icon":!0},on:{actionClicked:t.showSelectPermissionModal}})],2)]),e("select-permission-modal",{on:{selection:t.updatePermissionSelection}})],1)},c=[],l=n("7c15"),d=n("192b"),f=n("e68f"),m=n("ae28"),p={mixins:[l["a"]],components:{BInputGroupFormInput:d["a"],ActionableListGroupItem:f["a"],SelectPermissionModal:m["a"]},data:function(){return{name:null,permissions:[]}},methods:{createRole:function(){var t=this,e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ROLE);this.name,this.permissions.map((function(t){return t.name}));this.axios.put(e,{name:this.name,permissions:this.permissions.map((function(t){return t.name}))}).then((function(){t.$emit("refreshTable"),t.$toastr.s(t.$t("admin.role_created"))})).catch((function(){t.$toastr.w(t.$t("condition.unsuccessful_action"))})),this.$root.$emit("bv::hide::modal","createRoleModal"),this.resetValues()},resetValues:function(){this.name=null,this.permissions=[]},removePermission:function(t){var e=this.permissions.indexOf(t);e>-1&&this.permissions.splice(e,1)},showSelectPermissionModal:function(){this.$root.$emit("bv::show::modal","selectPermissionModal")},updatePermissionSelection:function(t){this.permissions=t}}},h=p,b=n("2877"),v=Object(b["a"])(h,u,c,!1,null,null,null),E=v.exports,_=n("08c4"),A=n("f547"),S=n("0864"),g=function(){var t=this,e=t._self._c;return e("b-row",{staticClass:"expanded-row"},[e("b-col",{attrs:{sm:"6"}},[e("b-input-group-form-input",{directives:[{name:"debounce",rawName:"v-debounce:750ms",value:t.updateRole,expression:"updateRole",arg:"750ms"}],attrs:{id:"input-role-name",label:t.$t("admin.role_name"),"input-group-size":"mb-3",required:"true",type:"text",lazy:"true",autofocus:"true","debounce-events":"keyup"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("b-form-group",{attrs:{label:this.$t("admin.permissions")}},[e("div",{staticClass:"list-group"},[t._l(t.permissions,(function(n){return e("span",{key:n.name},[e("actionable-list-group-item",{attrs:{value:n.name,"delete-icon":!0},on:{actionClicked:function(e){return t.removePermission(n)}}})],1)})),e("actionable-list-group-item",{attrs:{"add-icon":!0},on:{actionClicked:function(e){return t.$root.$emit("bv::show::modal","selectPermissionModal")}}})],2)])],1),e("b-col",{attrs:{sm:"6"}},[e("div",{staticStyle:{"text-align":"right"}},[e("b-button",{attrs:{variant:"outline-danger"},on:{click:t.deleteRole}},[t._v(t._s(t.$t("admin.delete_role")))])],1)]),e("select-permission-modal",{attrs:{currentPermissions:t.permissions},on:{selection:t.updatePermissionSelection}})],1)},y=[],T=n("12cb"),$={props:{index:{type:Number,required:!0},row:{type:Object,required:!0},rowEvents:{update:{type:String},delete:{type:String}}},i18n:T["a"],mixins:[l["a"]],components:{ActionableListGroupItem:f["a"],SelectPermissionModal:m["a"],BInputGroupFormInput:d["a"]},data:function(){return{role:this.row,name:this.row.name,permissions:this.row.permissions,labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateRole:function(){var t=this,e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ROLE);this.axios.post(e,{uuid:this.role.uuid,name:this.name}).then((function(e){A["a"].$emit(t.rowEvents.update,t.index,e.data),t.$toastr.s(t.$t("message.updated"))})).catch((function(){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},deleteRole:function(){var t=this,e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ROLE,"/").concat(this.role.uuid);this.axios.delete(e).then((function(){A["a"].$emit(t.rowEvents.delete,t.index),t.$toastr.s(t.$t("admin.role_deleted"))})).catch((function(){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},updatePermissionSelection:function(t){var e=this;this.$root.$emit("bv::hide::modal","selectPermissionModal");for(var n=0;n<t.length;n++){var i=t[n],r="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PERMISSION,"/").concat(i.name,"/role/").concat(this.role.uuid);this.axios.post(r).then((function(t){e.syncVariables(t.data),e.$toastr.s(e.$t("message.updated"))})).catch((function(t){304===t.response.status||e.$toastr.w(e.$t("condition.unsuccessful_action"))}))}},removePermission:function(t){var e=this,n="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PERMISSION,"/").concat(t.name,"/role/").concat(this.role.uuid);this.axios.delete(n).then((function(t){A["a"].$emit(e.rowEvents.delete,e.index,t.data),e.$toastr.s(e.$t("message.updated"))})).catch((function(){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},syncVariables:function(t){this.role=t,this.permissions=t.permissions}}},N=$,R=Object(b["a"])(N,g,y,!1,null,null,null),O=R.exports,I={name:"RolesView",props:{header:String},mixins:[_["a"],S["a"]],components:{CreateRoleModal:E},mounted:function(){var t=this;A["a"].$on(this.rowEvents.update,(function(e,n){t.$refs.table.updateRow({index:e,row:n}),t.$refs.table.expandRow(e)})),A["a"].$on(this.rowEvents.delete,(function(){t.refreshTable()}))},beforeDestroy:function(){A["a"].$off(this.rowEvents.delete),A["a"].$off(this.rowEvents.update)},data:function(){var t=this,e=this.$createElement;return{labelIcon:{dataOn:"✓",dataOff:"✕"},rowEvents:{update:"admin:roles:rowUpdate",delete:"admin:roles:rowDeleted"},columns:[{title:this.$t("admin.role_name"),field:"name",sortable:!1,formatter:function(t){return a.a.inHTMLData(s["a"].valueWithDefault(t,""))}},{title:this.$t("admin.permissions"),field:"permissions",sortable:!1,formatter:function(t,e){return t?e.permissions.length:0}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},detailView:!0,detailViewIcon:!1,detailViewByClick:!0,detailFormatter:function(n,i){return t.vueFormatter({render:function(){return e(O,{attrs:{index:n,row:i,rowEvents:t.rowEvents}})}})},onExpandRow:this.vueFormatterInit,toolbar:"#customToolbar",responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ROLE)}}},methods:{refreshTable:function(){this.$refs.table.refresh({silent:!0})}}},L=I,P=Object(b["a"])(L,i,r,!1,null,null,null);e["default"]=P.exports},ae28:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"selectPermissionModal",size:"lg","hide-header-close":"",title:t.$t("admin.select_permission")},scopedSlots:t._u([{key:"modal-footer",fn:function(n){var i=n.cancel;return[e("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return i()}}},[t._v(t._s(t.$t("message.cancel")))]),e("b-button",{attrs:{size:"md",variant:"primary",disabled:t.selectionHasChanged},on:{click:t.handleSelection}},[t._v(t._s(t.$t("message.select")))])]}}])},[e("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1)},r=[],o=n("6c36"),a=n.n(o),s=n("900c"),u={mixins:[],props:{currentPermissions:{type:Array,default:function(){return[]}}},data:function(){var t=this;return{currentSelection:[],columns:[{field:"state",checkbox:!0,align:"center"},{title:this.$t("message.name"),field:"name",sortable:!0,formatter:function(t){return a.a.inHTMLData(s["a"].valueWithDefault(t,""))}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,maintainMetaData:!0,icons:{refresh:"fa-refresh"},responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PERMISSION),onLoadSuccess:function(){var e=t.currentPermissions.map((function(t){return t.name}));t.$refs.table.checkBy({field:"name",values:e})},onCheck:this.updateCurrentSelection,onUncheck:this.updateCurrentSelection,onCheckAll:this.updateCurrentSelection,onUncheckAll:this.updateCurrentSelection}}},computed:{selectionHasChanged:function(){var t=this;if(0===this.currentSelection.length&&0===this.currentPermissions.length)return!0;if(this.currentSelection.length!==this.currentPermissions.length)return!1;var e=this.currentSelection.every((function(e){return t.currentPermissions.some((function(t){return t.name===e.name}))}));return e&&this.currentPermissions.every((function(e){return t.currentSelection.some((function(t){return t.name===e.name}))}))}},methods:{handleSelection:function(){this.$root.$emit("bv::hide::modal",this.$children[0].id),this.$emit("selection",this.currentSelection)},updateCurrentSelection:function(){this.currentSelection=this.$refs.table.getSelections()}}},c=u,l=n("2877"),d=Object(l["a"])(c,i,r,!1,null,null,null);e["a"]=d.exports},c02e:function(t,e,n){},e68f:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("li",{staticClass:"list-group-item align-middle"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pull-right action-icon",attrs:{size:"sm",title:t.tooltip},on:{click:function(e){return t.$emit("actionClicked")}}},[this.addIcon?e("span",{staticClass:"fa fa-plus-square"}):t._e(),this.deleteIcon?e("span",{staticClass:"fa fa-trash-o"}):t._e()]),t.$slots&&t.$slots.default&&t.$slots.default[0]?t._t("default"):e("span",[this.href?e("a",{attrs:{href:t.href}},[t._v(t._s(t.value))]):e("span",[t._v(t._s(t.value))]),t._v(" ")])],2)},r=[],o={props:{value:String,tooltip:String,addIcon:Boolean,deleteIcon:Boolean,variant:String,href:String}},a=o,s=(n("847e"),n("2877")),u=Object(s["a"])(a,i,r,!1,null,"683f4500",null);e["a"]=u.exports}}]);