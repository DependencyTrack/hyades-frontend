(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cbcbb8c"],{"7c15":function(t,e,r){"use strict";var n=r("a4c1");function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=i(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}e["a"]={data:function(){return{PERMISSIONS:{BOM_UPLOAD:n["f"],VIEW_PORTFOLIO:n["A"],PORTFOLIO_MANAGEMENT:n["m"],PORTFOLIO_MANAGEMENT_CREATE:n["n"],PORTFOLIO_MANAGEMENT_READ:n["p"],PORTFOLIO_MANAGEMENT_UPDATE:n["q"],PORTFOLIO_MANAGEMENT_DELETE:n["o"],VIEW_VULNERABILITY:n["B"],VULNERABILITY_ANALYSIS:n["C"],VULNERABILITY_ANALYSIS_CREATE:n["D"],VULNERABILITY_ANALYSIS_READ:n["E"],VULNERABILITY_ANALYSIS_UPDATE:n["F"],VIEW_POLICY_VIOLATION:n["z"],VULNERABILITY_MANAGEMENT:n["G"],VULNERABILITY_MANAGEMENT_CREATE:n["H"],VULNERABILITY_MANAGEMENT_READ:n["J"],VULNERABILITY_MANAGEMENT_UPDATE:n["K"],VULNERABILITY_MANAGEMENT_DELETE:n["I"],POLICY_VIOLATION_ANALYSIS:n["l"],ACCESS_MANAGEMENT:n["a"],ACCESS_MANAGEMENT_CREATE:n["b"],ACCESS_MANAGEMENT_READ:n["d"],ACCESS_MANAGEMENT_UPDATE:n["e"],ACCESS_MANAGEMENT_DELETE:n["c"],SYSTEM_CONFIGURATION:n["s"],SYSTEM_CONFIGURATION_CREATE:n["t"],SYSTEM_CONFIGURATION_READ:n["v"],SYSTEM_CONFIGURATION_UPDATE:n["w"],SYSTEM_CONFIGURATION_DELETE:n["u"],PROJECT_CREATION_UPLOAD:n["r"],POLICY_MANAGEMENT:n["g"],POLICY_MANAGEMENT_CREATE:n["h"],POLICY_MANAGEMENT_READ:n["j"],POLICY_MANAGEMENT_UPDATE:n["k"],POLICY_MANAGEMENT_DELETE:n["i"],TAG_MANAGEMENT:n["x"],TAG_MANAGEMENT_DELETE:n["y"]}}},computed:{decodedToken:function(){return n["L"](n["M"]())}},methods:{isPermitted:function(t){if("string"==typeof t)return n["N"](t,this.decodedToken);if(Array.isArray(t)){var e,r=o(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(n["N"](i,this.decodedToken))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}throw new Error("permission must be of type string or array")},isNotPermitted:function(t){if("string"==typeof t)return!n["N"](t,this.decodedToken);if(Array.isArray(t)){var e,r=o(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(n["N"](i,this.decodedToken))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}throw new Error("permission must be of type string or array")}}}},"847e":function(t,e,r){"use strict";r("c02e")},9289:function(t,e,r){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",[e("b-table",{attrs:{items:t.projectRoles,fields:t.fields},scopedSlots:t._u([{key:"cell(project)",fn:function(r){return[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-ellipsis",attrs:{title:r.item.project.name}},[t._v("\n        "+t._s(r.item.project.name)+"\n      ")])]}},{key:"cell(role)",fn:function(r){return[e("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{gap:"0.625rem"}},[e("multiselect",{staticClass:"multiselect",attrs:{options:t.availableRoles,id:r.index,"allow-empty":!1,"deselect-label":t.$t("admin.multiselect_remove_role"),placeholder:t.$t("admin.select_role"),"open-direction":t.isLastRow(r.index,!1)?"top":"auto",label:"name","track-by":"uuid"},on:{input:t.onRoleSelection},model:{value:t.projectRolesCurrent[r.index].role,callback:function(e){t.$set(t.projectRolesCurrent[r.index],"role",e)},expression:"projectRolesCurrent[data.index].role"}}),t.projectRolesCurrent[r.index].loading?e("b-spinner",{attrs:{small:"",variant:"primary"}}):e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"action-icon",attrs:{small:"",title:t.$t("admin.remove_role")},on:{click:function(e){return t.onRemoveProjectRole(r)}}},[e("span",{staticClass:"fa fa-trash-o"})])],1)]}},{key:"custom-foot",fn:function(){return[t._l(t.projectRolesPrototype,(function(r,n){return e("b-tr",{key:n},[e("b-td",[t._v(t._s(r.project.name)+" "),e("br")]),e("b-td",[e("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{gap:"0.625rem"}},[e("multiselect",{staticClass:"multiselect",attrs:{placeholder:t.$t("admin.select_role"),options:t.availableRoles,id:n,disabled:r.disabled,"open-direction":t.isLastRow(n,!0)?"top":"auto",label:"name","track-by":"uuid"},on:{input:t.onRolePrototypeSelection},model:{value:r.role,callback:function(e){t.$set(r,"role",e)},expression:"prototype.role"}}),r.loading?e("b-spinner",{attrs:{small:"",variant:"primary"}}):e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"action-icon",attrs:{small:"",title:t.$t("message.cancel")},on:{click:function(e){return t.removeProjectPrototype(r.project.uuid)}}},[e("i",{staticClass:"fa fa-tasks"})])],1)])],1)})),e("b-tr",{on:{click:t.showProjectModal}},[e("b-td",{attrs:{colspan:"2"}},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pull-right action-icon",attrs:{size:"sm",title:t.$t("admin.add_project")},on:{click:function(e){return t.$emit("actionClicked")}}},[e("span",{staticClass:"fa fa-plus-square"})])],1)],1)]},proxy:!0}])}),e("select-project-modal",{attrs:{username:t.parentContext.row.username},on:{selection:t.createPrototypeMapping}})],1)},o=[],i=r("8e5f"),a=r.n(i),s=r("f307"),c=r("12cb");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return(e=f(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t){var e=p(t,"string");return"symbol"==d(e)?e:e+""}function p(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var m={i18n:c["a"],props:{parentContext:{type:Object,required:!0,validator:function(t){return"object"===d(t)&&Object.prototype.hasOwnProperty.call(t,"row")&&Object.prototype.hasOwnProperty.call(t,"index")}},projectRoles:{type:Array,required:!0,default:null},availableRoles:{type:Array,required:!0,default:null}},mixins:[],components:{Multiselect:a.a,SelectProjectModal:s["a"]},created:function(){this.createProjectMapping(this.projectRoles)},data:function(){return{projectRolesCurrent:[],projectRolesPrototype:[],fields:[{key:"project",label:this.$t("admin.project"),thClass:"project-column header-row",tdClass:"project-column",sortable:!1},{key:"role",label:this.$t("admin.role"),sortable:!1,thClass:"role-column header-row",tdClass:"role-column"}]}},watch:{projectRoles:function(t){this.createProjectMapping(t)}},methods:{createProjectMapping:function(t){this.projectRolesCurrent=t.map((function(t){return u(u({},t),{},{disabled:!1,loading:!1})}))},createPrototypeMapping:function(t){this.projectRolesPrototype=t.map((function(t){return{project:t,role:null,disabled:!1,loading:!1}}))},removeProjectPrototype:function(t){var e=this.projectRolesPrototype.findIndex((function(e){return e.project.uuid===t}));-1!==e&&this.projectRolesPrototype.splice(e,1)},debugRoleFormatter:function(t){var e=t.name,r=t.uuid;if(e&&r){var n=8,o=0===n||r.length<=n?r:r.slice(0,n-3)+"...";return"".concat(e," - ").concat(o)}},onRolePrototypeSelection:function(t,e){var r=this,n=t.uuid,o=this.projectRolesPrototype[e].project.uuid;this.projectRolesPrototype[e].loading=!0,this.projectRolesPrototype[e].disabled=!0;var i=function(t){var n;304===(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)&&r.$toastr.w(r.$t("admin.role_already_assigned")),r.projectRolesPrototype[e].disabled=!1,r.projectRolesPrototype[e].loading=!1,r.projectRolesPrototype[e].role=null},a=function(){r.removeProjectPrototype(o)};this.$emit("addProjectRole",{role:n,project:o},{success:a,error:i})},onRoleSelection:function(t,e){var r=this,n=t.uuid,o=this.projectRoles[e].project.uuid;this.projectRolesCurrent[e].loading=!0,this.projectRolesCurrent[e].disabled=!0;var i=function(){r.projectRolesCurrent[e].disabled=!1,r.projectRolesCurrent[e].loading=!1,r.projectRolesCurrent[e].role=r.projectRoles[e].role},a=function(){r.projectRolesCurrent[e].disabled=!1,r.projectRolesCurrent[e].loading=!1},s=function(t){var e;304===(null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.status)&&(r.$toastr.e(r.$t("admin.role_already_assigned")),a()),i()};this.$emit("updateProjectRole",{role:n,project:o},{success:a,error:s})},onRemoveProjectRole:function(t){var e={role:t.item.role.uuid,project:this.projectRolesCurrent[t.index].project.uuid};this.$emit("removeProjectRole",e)},showProjectModal:function(){this.$root.$emit("bv::show::modal","selectProjectModal")},isLastRow:function(t,e){return e?t===this.projectRolesPrototype.length-1:t===this.projectRolesCurrent.length-1&&!this.projectRolesPrototype.length}}},v=m,y=(r("b886"),r("2877")),b=Object(y["a"])(v,n,o,!1,null,"2d6e4335",null);e["a"]=b.exports},ae28:function(t,e,r){"use strict";var n=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"selectPermissionModal",size:"lg","hide-header-close":"",title:t.$t("admin.select_permission")},scopedSlots:t._u([{key:"modal-footer",fn:function(r){var n=r.cancel;return[e("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(t._s(t.$t("message.cancel")))]),e("b-button",{attrs:{size:"md",variant:"primary",disabled:t.selectionHasChanged},on:{click:t.handleSelection}},[t._v(t._s(t.$t("message.select")))])]}}])},[e("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1)},o=[],i=r("6c36"),a=r.n(i),s=r("900c"),c={mixins:[],props:{currentPermissions:{type:Array,default:function(){return[]}}},data:function(){var t=this;return{currentSelection:[],columns:[{field:"state",checkbox:!0,align:"center"},{title:this.$t("message.name"),field:"name",sortable:!0,formatter:function(t){return a.a.inHTMLData(s["a"].valueWithDefault(t,""))}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,maintainMetaData:!0,icons:{refresh:"fa-refresh"},responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PERMISSION),onLoadSuccess:function(){var e=t.currentPermissions.map((function(t){return t.name}));t.$refs.table.checkBy({field:"name",values:e})},onCheck:this.updateCurrentSelection,onUncheck:this.updateCurrentSelection,onCheckAll:this.updateCurrentSelection,onUncheckAll:this.updateCurrentSelection}}},computed:{selectionHasChanged:function(){var t=this;if(0===this.currentSelection.length&&0===this.currentPermissions.length)return!0;if(this.currentSelection.length!==this.currentPermissions.length)return!1;var e=this.currentSelection.every((function(e){return t.currentPermissions.some((function(t){return t.name===e.name}))}));return e&&this.currentPermissions.every((function(e){return t.currentSelection.some((function(t){return t.name===e.name}))}))}},methods:{handleSelection:function(){this.$root.$emit("bv::hide::modal",this.$children[0].id),this.$emit("selection",this.currentSelection)},updateCurrentSelection:function(){this.currentSelection=this.$refs.table.getSelections()}}},l=c,u=r("2877"),h=Object(u["a"])(l,n,o,!1,null,null,null);e["a"]=h.exports},b113:function(t,e,r){"use strict";var n=r("f547");function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){var e=s(t,"string");return"symbol"==o(e)?e:e+""}function s(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof _?e:_,a=Object.create(o.prototype),s=new O(n||[]);return i(a,"_invoke",{value:P(t,r,s)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",m="suspendedYield",v="executing",y="completed",b={};function _(){}function g(){}function E(){}var w={};h(w,s,(function(){return this}));var R=Object.getPrototypeOf,S=R&&R(R(N([])));S&&S!==r&&n.call(S,s)&&(w=S);var A=E.prototype=_.prototype=Object.create(w);function j(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(i,a,s,c){var l=p(t[i],t,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==o(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return r("throw",t,s,c)}))}c(l.arg)}var a;i(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=d;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=x(s,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=p(e,r,n);if("normal"===l.type){if(o=n.done?y:m,l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function x(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return g.prototype=E,i(A,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:g,configurable:!0}),g.displayName=h(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,h(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},j(L.prototype),h(L.prototype,l,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new L(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(A),h(A,u,"Generator"),h(A,s,(function(){return this})),h(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function l(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){l(i,n,o,a,s,"next",t)}function s(t){l(i,n,o,a,s,"throw",t)}a(void 0)}))}}e["a"]={created:function(){this._userManagementMixin_init()},data:function(){return{_userManagementMixin_ready:!1}},methods:{loadUserProjects:function(){var t=u(c().mark((function t(e){var r,n;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ROLE,"/").concat(e,"/role"),t.prev=1,t.next=4,this.axios.get(r);case 4:return n=t.sent,t.abrupt("return",n.data);case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),loadAvailableProjectRoles:function(){var t=u(c().mark((function t(){var e,r;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ROLE),t.prev=1,t.next=4,this.axios.get(e);case 4:return r=t.sent,t.abrupt("return",r.data);case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),_deleteUser:function(){var t=u(c().mark((function t(e){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._userManagementMixin_checkReady(),t.prev=1,t.next=4,this.axios.delete(e,{data:i({},this._identifierField,this.row[this._identifierField])});case 4:this._successfulResponse_delete(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),this.handleError(t.t0);case 10:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),_updateTeamSelection:function(){var t=u(c().mark((function t(e){var r,n,o,a,s;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_MEMBERSHIP),this._userManagementMixin_checkReady(),r={},i(r,this._identifierField,this.row[this._identifierField]),i(r,"teams",e.map((function(t){return t.uuid}))),o=r,t.prev=3,t.next=6,this.axios.put(n,o);case 6:a=t.sent,this._successfulResponse_update(a),t.next=15;break;case 10:if(t.prev=10,t.t0=t["catch"](3),304!==(null===(s=t.t0.response)||void 0===s?void 0:s.status)){t.next=14;break}return t.abrupt("return");case 14:this.handleError(t.t0);case 15:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}(),_removeTeamMembership:function(){var t=u(c().mark((function t(e){var r,n,o;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=this.row[this._identifierField],n="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER,"/").concat(r,"/membership"),this._userManagementMixin_checkReady(),t.prev=3,t.next=6,this.axios.delete(n,{data:{uuid:e}});case 6:o=t.sent,this._successfulResponse_update(o),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),this.handleError(t.t0);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}(),_updatePermissionSelection:function(){var t=u(c().mark((function t(e){var r,n,o,a;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_PERMISSION),this._userManagementMixin_checkReady(),r={},i(r,this._identifierField,this.row[this._identifierField]),i(r,"permissions",e.map((function(t){return t.name}))),o=r,t.prev=3,t.next=6,this.axios.put(n,o);case 6:a=t.sent,this._successfulResponse_update(a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),this.handleError(t.t0);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}(),_removePermission:function(){var t=u(c().mark((function t(e){var r,n,o;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._userManagementMixin_checkReady(),r=this.row[this._identifierField],n="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PERMISSION,"/").concat(e.name,"/user/").concat(r),t.prev=3,t.next=6,this.axios.delete(n);case 6:o=t.sent,this._successfulResponse_update(o),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),this.handleError(t.t0);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}(),_handleProjectRole:function(){var t=u(c().mark((function t(e,r){var n,o,a,s,l,u,h,f,p,d,m=arguments;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=m.length>2&&void 0!==m[2]?m[2]:null,this._userManagementMixin_checkReady(),a=r.role,s=r.project,l="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_ROLE),n={},i(n,this._identifierField,this.row[this._identifierField]),i(n,"role",a),i(n,"project",s),u=n,t.prev=5,t.t0=e,t.next="add"===t.t0||"update"===t.t0?9:"remove"===t.t0?14:19;break;case 9:return t.next=11,this.axios.put(l,u);case 11:return f=t.sent,p="add"===e?this.$t("admin.role_assigned"):this.$t("admin.role_updated"),t.abrupt("break",20);case 14:return t.next=16,this.axios.delete(l,{data:u});case 16:return f=t.sent,p=this.$t("admin.role_deleted"),t.abrupt("break",20);case 19:throw new Error("Invalid action: ".concat(e));case 20:this.$toastr.s(p),null===o||void 0===o||null===(h=o.success)||void 0===h||h.call(o,f),t.next=28;break;case 24:t.prev=24,t.t1=t["catch"](5),this.handleError(t.t1),null===o||void 0===o||null===(d=o.error)||void 0===d||d.call(o,t.t1);case 28:case"end":return t.stop()}}),t,this,[[5,24]])})));function e(e,r){return t.apply(this,arguments)}return e}(),handleError:function(t,e){var r=null!==e&&void 0!==e?e:"condition.unsuccessful_action";console.error(t),this.$toastr.w(this.$t(r))},_successfulResponse_update:function(t){this.rowEvents&&this.rowEvents.update&&n["a"].$emit(this.rowEvents.update,this.index,t.data),this.$toastr.s(this.$t("message.updated"))},_successfulResponse_delete:function(){this.rowEvents&&this.rowEvents.delete&&n["a"].$emit(this.rowEvents.delete,this.index),this.$toastr.s(this.$t("admin.user_deleted"))},_userManagementMixin_checkReady:function(){if(!this._userManagementMixin_ready)throw new Error("userManagementMixin is not ready. Init failed")},_userManagementMixin_init:function(){if(this._identifierField||(this._identifierField="username"),!0===this.umm_bypassInit)return console.warn("userManagementMixin: bypassing init check"),void(this._userManagementMixin_ready=!0);if(null==this.index||null==this.row)throw new Error("userManagementMixin requires 'index' and 'row' variables, which are typically provided by a detailFormatter function.");var t=!!(this.rowEvents&&this.rowEvents.update&&this.rowEvents.delete);t||console.warn("userManagementMixin: 'rowEvents' object is either undefined or missing properties 'update' or 'delete'. Changes may not reflect properly until refresh."),this._userManagementMixin_ready=!0}}}},b264:function(t,e,r){},b886:function(t,e,r){"use strict";r("b264")},c02e:function(t,e,r){},c9ca:function(t,e,r){"use strict";var n=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"selectTeamModal",size:"lg","hide-header-close":"","no-stacking":"",title:t.$t("admin.select_team")},scopedSlots:t._u([{key:"modal-footer",fn:function(r){var n=r.cancel;return[e("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(t._s(t.$t("message.cancel")))]),e("b-button",{attrs:{size:"md",variant:"primary",disabled:t.selectionHasChanged},on:{click:t.handleSelection}},[t._v(t._s(t.$t("message.select")))])]}}])},[e("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1)},o=[],i=r("6c36"),a=r.n(i),s=r("7c15"),c=r("900c"),l={props:{currentTeams:{type:Array,default:function(){return[]}}},mixins:[s["a"]],data:function(){var t=this;return{currentSelection:[],labelIcon:{dataOn:"✓",dataOff:"✕"},columns:[{field:"state",checkbox:!0,align:"center"},{title:this.$t("admin.team_name"),field:"name",sortable:!0,formatter:function(t){return a.a.inHTMLData(c["a"].valueWithDefault(t,""))}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_TEAM),onLoadSuccess:function(){var e=t.currentTeams.map((function(t){return t.name}));t.$refs.table.checkBy({field:"name",values:e})},onCheck:this.updateCurrentSelection,onUncheck:this.updateCurrentSelection,onCheckAll:this.updateCurrentSelection,onUncheckAll:this.updateCurrentSelection}}},computed:{selectionHasChanged:function(){var t=this;if(0===this.currentSelection.length&&0===this.currentTeams.length)return!0;if(this.currentSelection.length!==this.currentTeams.length)return!1;var e=this.currentSelection.every((function(e){return t.currentTeams.some((function(t){return t.name===e.name}))}));return e&&this.currentTeams.every((function(e){return t.currentSelection.some((function(t){return t.name===e.name}))}))}},methods:{handleSelection:function(){this.$bvModal.hide("selectTeamModal"),this.$emit("selection",this.currentSelection)},updateCurrentSelection:function(){this.currentSelection=this.$refs.table.getSelections()}}},u=l,h=r("2877"),f=Object(h["a"])(u,n,o,!1,null,null,null);e["a"]=f.exports},e68f:function(t,e,r){"use strict";var n=function(){var t=this,e=t._self._c;return e("li",{staticClass:"list-group-item align-middle"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pull-right action-icon",attrs:{size:"sm",title:t.tooltip},on:{click:function(e){return t.$emit("actionClicked")}}},[this.addIcon?e("span",{staticClass:"fa fa-plus-square"}):t._e(),this.deleteIcon?e("span",{staticClass:"fa fa-trash-o"}):t._e()]),t.$slots&&t.$slots.default&&t.$slots.default[0]?t._t("default"):e("span",[this.href?e("a",{attrs:{href:t.href}},[t._v(t._s(t.value))]):e("span",[t._v(t._s(t.value))]),t._v(" ")])],2)},o=[],i={props:{value:String,tooltip:String,addIcon:Boolean,deleteIcon:Boolean,variant:String,href:String}},a=i,s=(r("847e"),r("2877")),c=Object(s["a"])(a,n,o,!1,null,"683f4500",null);e["a"]=c.exports},f307:function(t,e,r){"use strict";var n=function(){var t=this,e=t._self._c;return e("b-modal",{directives:[{name:"permission",rawName:"v-permission",value:"VIEW_PORTFOLIO",expression:"'VIEW_PORTFOLIO'"}],attrs:{id:"selectProjectModal",size:"lg","hide-header-close":"","no-stacking":"",title:t.$t("message.select_project")},scopedSlots:t._u([{key:"modal-footer",fn:function(r){var n=r.cancel;return[e("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(t._s(t.$t("message.cancel")))]),e("b-button",{attrs:{size:"md",variant:"primary"},on:{click:t.handleSelection}},[t._v(t._s(t.$t("message.select")))])]}}])},[e("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1)},o=[],i=r("6c36"),a=r.n(i),s=r("7c15"),c=r("900c"),l={mixins:[s["a"]],props:{username:{type:String,default:null}},methods:{apiUrl:function(){var t="";return this.username?(t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ACL_USER,"/").concat(this.username),t):(t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PROJECT),void 0===this.showInactiveProjects?t+="?excludeInactive=true":t+="?excludeInactive="+!this.showInactiveProjects,t)},refreshTable:function(){this.$refs.table.refresh({url:this.apiUrl(),pageNumber:1,silent:!0})},handleSelection:function(){this.$root.$emit("bv::hide::modal",this.$children[0].id),this.$emit("selection",this.$refs.table.getSelections())}},watch:{showInactiveProjects:function(){this.refreshTable()}},data:function(){return{showInactiveProjects:!1,labelIcon:{dataOn:"✓",dataOff:"✕"},columns:[{field:"state",checkbox:!0,align:"center"},{title:this.$t("message.project_name"),field:"name",sortable:!0,formatter:function(t){return a.a.inHTMLData(c["a"].valueWithDefault(t,""))}},{title:this.$t("message.version"),field:"version",sortable:!0,formatter:function(t){return a.a.inHTMLData(c["a"].valueWithDefault(t,""))}},{title:this.$t("message.active"),field:"active",formatter:function(t){return!0===t?'<i class="fa fa-check-square-o" />':""},align:"center",class:"tight",sortable:!0}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"server",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},toolbar:"#projectsToolbar",responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:this.apiUrl()}}}},u=l,h=r("2877"),f=Object(h["a"])(u,n,o,!1,null,null,null);e["a"]=f.exports}}]);