(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa389612"],{"0864":function(e,t,n){"use strict";var o=n("900c");t["a"]={data:function(){return{configUrl:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/"),labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateConfigProperties:function(e){for(var t=this,n=[],r=0;r<e.length;r++){var a=e[r];a.propertyValue=o["a"].trimToNull(a.propertyValue),n.push(a)}var s="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(s,n).then((function(e){t.$toastr.s(t.$t("admin.configuration_saved"))})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},updateConfigProperty:function(e,t,n){var r=this;n=o["a"].trimToNull(n);var a="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/");this.axios.post(a,{groupName:e,propertyName:t,propertyValue:n}).then((function(e){r.$toastr.s(r.$t("admin.configuration_saved"))})).catch((function(e){r.$toastr.w(r.$t("condition.unsuccessful_action"))}))}}}},b347:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e._self._c;return t("b-card",{attrs:{"no-body":"",header:e.header}},[t("b-card-body",[t("b-form-group",{attrs:{label:e.$t("admin.metrics"),"label-size":"lg","label-class":"font-weight-bold pt-0 mb-0"}},[t("b-form-group",{attrs:{label:e.$t("admin.retention")}},[t("b-input-group",{attrs:{append:e.$t("admin.days")}},[t("b-form-input",{attrs:{type:"number"},model:{value:e.metricsRetentionDays,callback:function(t){e.metricsRetentionDays=t},expression:"metricsRetentionDays"}})],1)],1)],1),t("b-form-group",{attrs:{label:e.$t("message.projects"),"label-size":"lg","label-class":"font-weight-bold pt-0 mb-0"}},[t("b-form-group",[t("c-switch",e._b({attrs:{color:"primary",label:""},model:{value:e.enableProjectRetention,callback:function(t){e.enableProjectRetention=t},expression:"enableProjectRetention"}},"c-switch",e.switchLabelIcon,!1)),e._v("\n        "+e._s(e.$t("admin.project_retention_enable"))+"\n      ")],1),t("b-form-group",{attrs:{label:e.$t("message.project_retention_type")},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.projectRetention;return[t("b-form-radio-group",{staticClass:"cvss-calc cvss-calc-3-btn",attrs:{options:e.projectRetentionTypes,"aria-describedby":o,name:"radios-btn-default","button-variant":"outline-primary",buttons:""},model:{value:e.projectRetentionTypeSelected,callback:function(t){e.projectRetentionTypeSelected=t},expression:"projectRetentionTypeSelected"}})]}}])}),t("b-form-group",{attrs:{label:e.$t("message.age")}},[t("b-input-group",{attrs:{append:e.$t("admin.days")}},[t("b-form-input",{attrs:{type:"number"},model:{value:e.projectRetentionDays,callback:function(t){e.projectRetentionDays=t},expression:"projectRetentionDays"}})],1)],1),t("b-form-group",{attrs:{label:e.$t("admin.versions")}},[t("b-input-group",{attrs:{append:e.$t("message.inactive_versions")}},[t("b-form-input",{attrs:{type:"number"},model:{value:e.projectRetentionVersions,callback:function(t){e.projectRetentionVersions=t},expression:"projectRetentionVersions"}})],1)],1)],1),t("b-form-group",{attrs:{label:e.$t("admin.tags"),"label-size":"lg","label-class":"font-weight-bold pt-0 mb-0"}},[t("c-switch",e._b({attrs:{color:"primary",label:""},model:{value:e.tagsDeleteUnused,callback:function(t){e.tagsDeleteUnused=t},expression:"tagsDeleteUnused"}},"c-switch",e.switchLabelIcon,!1)),e._v(e._s(e.$t("admin.tags_delete_unused"))+"\n    ")],1),t("b-form-group",{attrs:{label:e.$t("admin.vulnerability_scans"),"label-size":"lg","label-class":"font-weight-bold pt-0 mb-0"}},[t("b-form-group",{attrs:{label:e.$t("admin.retention")}},[t("b-input-group",{attrs:{append:e.$t("admin.hours")}},[t("b-form-input",{attrs:{type:"number"},model:{value:e.vulnScanRetentionHours,callback:function(t){e.vulnScanRetentionHours=t},expression:"vulnScanRetentionHours"}})],1)],1)],1),t("b-form-group",{attrs:{label:e.$t("admin.workflows"),"label-size":"lg","label-class":"font-weight-bold pt-0 mb-0"}},[t("b-form-group",{attrs:{label:e.$t("admin.retention")}},[t("b-input-group",{attrs:{append:e.$t("admin.hours")}},[t("b-form-input",{attrs:{type:"number"},model:{value:e.workflowRetentionHours,callback:function(t){e.workflowRetentionHours=t},expression:"workflowRetentionHours"}})],1)],1),t("b-form-group",{attrs:{label:e.$t("admin.workflow_step_timeout")}},[t("b-input-group",{attrs:{append:e.$t("admin.minutes")}},[t("b-form-input",{attrs:{type:"number"},model:{value:e.workflowStepTimeoutMinutes,callback:function(t){e.workflowStepTimeoutMinutes=t},expression:"workflowStepTimeoutMinutes"}})],1)],1)],1)],1),t("b-card-footer",[t("b-button",{staticClass:"px-4",attrs:{variant:"outline-primary"},on:{click:e.saveChanges}},[e._v(e._s(e.$t("message.update")))])],1)],1)},r=[],a=n("f1fb"),s=n("900c"),i=n("0864"),l={mixins:[i["a"]],props:{header:String},components:{cSwitch:a["o"]},data:function(){return{metricsRetentionDays:null,enableProjectRetention:null,projectRetentionTypes:["AGE","VERSIONS"],projectRetentionTypeSelected:"",projectRetentionDays:null,projectRetentionVersions:null,tagsDeleteUnused:null,vulnScanRetentionHours:null,workflowRetentionHours:null,workflowStepTimeoutMinutes:null,switchLabelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{saveChanges:function(){this.updateConfigProperties([{groupName:"maintenance",propertyName:"metrics.retention.days",propertyValue:this.metricsRetentionDays},{groupName:"maintenance",propertyName:"projects.retention.type",propertyValue:this.enableProjectRetention?this.projectRetentionTypeSelected:null},{groupName:"maintenance",propertyName:"projects.retention.days",propertyValue:this.projectRetentionDays},{groupName:"maintenance",propertyName:"projects.retention.versions",propertyValue:this.projectRetentionVersions},{groupName:"maintenance",propertyName:"tags.delete.unused",propertyValue:this.tagsDeleteUnused},{groupName:"maintenance",propertyName:"vuln.scan.retention.hours",propertyValue:this.vulnScanRetentionHours},{groupName:"maintenance",propertyName:"workflow.retention.hours",propertyValue:this.workflowRetentionHours},{groupName:"maintenance",propertyName:"workflow.step.timeout.minutes",propertyValue:this.workflowStepTimeoutMinutes}])}},created:function(){var e=this;this.axios.get(this.configUrl).then((function(t){for(var n=t.data.filter((function(e){return"maintenance"===e.groupName})),o=0;o<n.length;o++){var r=n[o];switch(r.propertyName){case"metrics.retention.days":e.metricsRetentionDays=r.propertyValue;break;case"projects.retention.type":e.enableProjectRetention=null!=r.propertyValue,e.projectRetentionTypeSelected=r.propertyValue;break;case"projects.retention.days":e.projectRetentionDays=r.propertyValue;break;case"projects.retention.versions":e.projectRetentionVersions=r.propertyValue;break;case"tags.delete.unused":e.tagsDeleteUnused=s["a"].toBoolean(r.propertyValue);break;case"vuln.scan.retention.hours":e.vulnScanRetentionHours=r.propertyValue;break;case"workflow.retention.hours":e.workflowRetentionHours=r.propertyValue;break;case"workflow.step.timeout.minutes":e.workflowStepTimeoutMinutes=r.propertyValue;break}}}))}},p=l,u=n("2877"),c=Object(u["a"])(p,o,r,!1,null,null,null);t["default"]=c.exports}}]);