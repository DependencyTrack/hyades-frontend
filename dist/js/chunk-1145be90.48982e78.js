(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1145be90"],{"08c4":function(e,t,r){"use strict";var n=r("a026");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=l(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}t["a"]={data:function(){return{vueFormatters:[]}},methods:{vueFormatter:function(e){var t="_vue_formatter_".concat(this.vueFormatters.length);return this.vueFormatters.push(s({el:".".concat(t),name:t},e)),'<div class="'.concat(t,'"/>')},vueFormatterInit:function(){if(this.vueFormatters.length)for(var e=this.vueFormatters.length-1;e>=0;e--){var t=this.vueFormatters[e];document.getElementsByClassName(t.name)&&(new n["default"](t),this.vueFormatters.splice(e,1))}}}}},d8d8:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("b-card",{attrs:{"no-body":"",header:e.header}},[t("b-card-body",[t("div",{attrs:{id:"customToolbar"}},[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.createManagedUserModal",modifiers:{createManagedUserModal:!0}}],attrs:{size:"md",variant:"outline-primary"}},[t("span",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.$t("admin.create_user"))+"\n      ")])],1),t("bootstrap-table",{ref:"table",attrs:{columns:e.columns,data:e.data,options:e.options}})],1),t("create-managed-user-modal",{on:{refreshTable:e.refreshTable}})],1)},o=[],a=r("6c36"),s=r.n(a),i=r("900c"),u=r("08c4"),l=r("f547"),c=function(){var e=this,t=e._self._c;return t("div",[t("b-row",{staticClass:"expanded-row"},[t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{label:this.$t("admin.team_membership")}},[t("div",{staticClass:"list-group"},[e._l(e.teams,(function(r){return t("span",{key:r.name},[t("actionable-list-group-item",{attrs:{tooltip:e.$t("admin.remove_team_membership"),value:r.name,"delete-icon":!0},on:{actionClicked:function(t){return e.removeTeamMembership(r.uuid)}}})],1)})),t("actionable-list-group-item",{attrs:{"add-icon":!0},on:{actionClicked:function(t){return e.$root.$emit("bv::show::modal","selectTeamModal")}}})],2)]),t("b-form-group",{attrs:{label:this.$t("admin.permissions")}},[t("div",{staticClass:"list-group"},[e._l(e.permissions,(function(r){return t("span",{key:r.name},[t("actionable-list-group-item",{attrs:{tooltip:e.$t("admin.remove_permission"),value:r.name,"delete-icon":!0},on:{actionClicked:function(t){return e.removePermission(r)}}})],1)})),t("actionable-list-group-item",{attrs:{"add-icon":!0},on:{actionClicked:e.openPermissionModal}})],2)])],1),t("b-col",{attrs:{sm:"6"}},[t("b-input-group-form-input",{directives:[{name:"debounce",rawName:"v-debounce:750ms",value:e.updateUser,expression:"updateUser",arg:"750ms"}],attrs:{id:"input-managed-user-fullname",label:e.$t("message.fullname"),"input-group-size":"mb-3",required:"true",type:"text",lazy:"true","debounce-events":"keyup"},model:{value:e.fullname,callback:function(t){e.fullname=t},expression:"fullname"}}),t("b-input-group-form-input",{directives:[{name:"debounce",rawName:"v-debounce:750ms",value:e.updateUser,expression:"updateUser",arg:"750ms"}],attrs:{id:"input-managed-user-email",label:e.$t("message.email"),"input-group-size":"mb-3",required:"true",type:"text",lazy:"true","debounce-events":"keyup"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),t("c-switch",e._b({attrs:{id:"forcePasswordChange",color:"primary",label:""},model:{value:e.forcePasswordChange,callback:function(t){e.forcePasswordChange=t},expression:"forcePasswordChange"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.change_password_next_login"))+"\n      "),t("br"),t("c-switch",e._b({attrs:{id:"nonExpiryPassword",color:"primary",label:""},model:{value:e.nonExpiryPassword,callback:function(t){e.nonExpiryPassword=t},expression:"nonExpiryPassword"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.password_never_expires"))+"\n      "),t("br"),t("c-switch",e._b({attrs:{id:"suspended",color:"primary",label:""},model:{value:e.suspended,callback:function(t){e.suspended=t},expression:"suspended"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.suspended"))+"\n      "),t("div",{staticStyle:{"text-align":"right"}},[t("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return e.$root.$emit("bv::show::modal","changePasswordModal")}}},[e._v(e._s(e.$t("admin.change_password")))]),t("b-button",{attrs:{variant:"outline-danger"},on:{click:e.deleteUser}},[e._v(e._s(e.$t("admin.delete_user")))])],1)],1)],1),t("b-row",{staticClass:"expanded-row p-3",attrs:{colspan:"2"}},[t("div",{staticStyle:{width:"100%"}},[e.loading?t("div",{staticClass:"d-flex justify-content-center"},[t("b-spinner",{attrs:{variant:"primary",type:"grow",label:"Loading"}},[e._v("Loading ...\n        ")])],1):t("div",[t("label",{attrs:{for:""}},[e._v(e._s(this.$t("message.projects")))]),t("user-roles-table",{attrs:{parentContext:{row:e.row,index:e.index},projectRoles:e.projectRoles,availableRoles:e.availableRoles},on:{addProjectRole:e.addProjectRole,updateProjectRole:e.updateProjectRole,removeProjectRole:e.removeProjectRole}})],1)])]),t("select-team-modal",{attrs:{currentTeams:e.teams},on:{selection:e.updateTeamSelection}}),t("select-permission-modal",{attrs:{currentPermissions:e.permissions},on:{selection:e.updatePermissionSelection}}),t("change-password-modal",{attrs:{"managed-user":this.row}})],1)},d=[],f=r("e68f"),m=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"changePasswordModal",size:"md","hide-header-close":"","no-stacking":"",title:e.$t("admin.change_password")},on:{hide:function(t){return e.resetValues()}},scopedSlots:e._u([{key:"modal-footer",fn:function(r){var n=r.cancel;return[t("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(e){return n()}}},[e._v(e._s(e.$t("message.close")))]),t("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){return e.updatePassword()}}},[e._v(e._s(e.$t("message.update")))])]}}])},[t("b-input-group-form-input",{attrs:{id:"password-input","input-group-size":"mb-3",type:"password",lazy:"true",required:"true",feedback:"true",autofocus:"false",label:e.$t("message.password"),"feedback-text":e.$t("admin.required_password")},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),t("b-input-group-form-input",{attrs:{id:"confirmPassword-input","input-group-size":"mb-3",type:"password",lazy:"true",required:"true",feedback:"true",autofocus:"false",state:e.verifyPasswordState(),label:e.$t("admin.password_confirm"),"feedback-text":e.$t("admin.required_confirmPassword")},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)},p=[],h=r("7c15"),w=r("192b"),v={mixins:[h["a"]],components:{BInputGroupFormInput:w["a"]},props:{managedUser:Object},data:function(){return{newPassword:null,confirmPassword:null}},methods:{verifyPasswordState:function(){return void 0!==this.newPassword&&null!==this.newPassword&&this.newPassword.length>0&&void 0!==this.confirmPassword&&null!==this.confirmPassword&&this.confirmPassword.length>0&&this.newPassword===this.confirmPassword},updatePassword:function(){var e=this;if(this.verifyPasswordState()){var t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_MANAGED);this.axios.post(t,{username:this.managedUser.username,fullname:this.managedUser.fullname,email:this.managedUser.email,newPassword:this.newPassword,confirmPassword:this.confirmPassword,forcePasswordChange:this.managedUser.forcePasswordChange,nonExpiryPassword:this.managedUser.nonExpiryPassword,suspended:this.managedUser.suspended}).then((function(t){e.$toastr.s(e.$t("admin.password_updated"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))})),this.$root.$emit("bv::hide::modal","changePasswordModal"),this.resetValues()}},resetValues:function(){this.newPassword=null,this.confirmPassword=null}}},b=v,y=r("2877"),g=Object(y["a"])(b,m,p,!1,null,null,null),P=g.exports,_=r("c9ca"),x=r("ae28"),$=r("f1fb"),E=r("b113"),k=r("12cb"),j=r("9289");function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function L(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */L=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,s=Object.create(a.prototype),i=new O(n||[]);return o(s,"_invoke",{value:k(e,r,i)}),s}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",m="suspendedYield",p="executing",h="completed",w={};function v(){}function b(){}function y(){}var g={};l(g,s,(function(){return this}));var P=Object.getPrototypeOf,_=P&&P(P(C([])));_&&_!==r&&n.call(_,s)&&(g=_);var x=y.prototype=v.prototype=Object.create(g);function $(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,a,s,i){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==S(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(c).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=f;return function(a,s){if(o===p)throw Error("Generator is already running");if(o===h){if("throw"===a)throw s;return{value:e,done:!0}}for(n.method=a,n.arg=s;;){var i=n.delegate;if(i){var u=j(i,n);if(u){if(u===w)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:m,l.arg===w)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),w;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,w;var s=a.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,w):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,w)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function U(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(S(t)+" is not iterable")}return b.prototype=y,o(x,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:b,configurable:!0}),b.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},$(E.prototype),l(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var s=new E(c(e,r,n,o),a);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},$(x),l(x,u,"Generator"),l(x,s,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(U),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return i.type="throw",i.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),U(r),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;U(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),w}},t}function R(e,t,r,n,o,a,s){try{var i=e[a](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){R(a,n,o,s,i,"next",e)}function i(e){R(a,n,o,s,i,"throw",e)}s(void 0)}))}}var O={i18n:k["a"],props:{index:{type:Number,required:!0},row:{type:Object,required:!0},rowEvents:{update:{type:String},delete:{type:String}}},mixins:[h["a"],E["a"]],components:{cSwitch:$["o"],ActionableListGroupItem:f["a"],SelectTeamModal:_["a"],SelectPermissionModal:x["a"],ChangePasswordModal:P,BInputGroupFormInput:w["a"],UserRolesTable:j["a"]},data:function(){return{username:this.row.username,teams:this.row.teams,permissions:this.row.permissions,fullname:this.row.fullname,email:this.row.email,forcePasswordChange:this.row.forcePasswordChange,nonExpiryPassword:this.row.nonExpiryPassword,suspended:this.row.suspended,projectRoles:null,availableRoles:null,loading:!0,counter:0,labelIcon:{dataOn:"✓",dataOff:"✕"}}},mounted:function(){var e=this;Promise.all([this.loadUserProjects(this.username),this.loadAvailableProjectRoles()]).then((function(t){e.projectRoles=t[0]||[],e.availableRoles=t[1]||[]})).catch((function(t){e.axios.isAxiosError(t)||console.error(t),e.$toastr.e(e.$t("condition.unsuccessful_action"))})).finally((function(){e.loading=!1}))},watch:{forcePasswordChange:function(){this.updateUser()},nonExpiryPassword:function(){this.updateUser()},suspended:function(){this.updateUser()}},methods:{openPermissionModal:function(){this.$root.$emit("bv::show::modal","selectPermissionModal")},openProjectModal:function(){this.$root.$emit("bv::show::modal","selectProjectModal")},updateUser:function(){var e=this,t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_MANAGED);this.axios.post(t,{username:this.username,fullname:this.fullname,email:this.email,newPassword:null,confirmPassword:null,forcePasswordChange:this.forcePasswordChange,nonExpiryPassword:this.nonExpiryPassword,suspended:this.suspended}).then((function(t){l["a"].$emit(e.rowEvents.update,e.index,t.data),e.$toastr.s(e.$t("message.updated"))})).catch((function(){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},deleteUser:function(){var e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_MANAGED);this._deleteUser(e)},updateTeamSelection:function(e){this._updateTeamSelection(e)},removeTeamMembership:function(e){this._removeTeamMembership(e)},updatePermissionSelection:function(e){this._updatePermissionSelection(e)},removePermission:function(e){this._removePermission(e)},addProjectRole:function(e,t){var r=this;this._handleProjectRole("add",e,t).then(U(L().mark((function e(){return L().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.loadUserProjects(r.username);case 2:r.projectRoles=e.sent;case 3:case"end":return e.stop()}}),e)}))))},updateProjectRole:function(e,t){this._handleProjectRole("update",e,t)},removeProjectRole:function(e,t){var r=this;this._handleProjectRole("remove",e,t).then(U(L().mark((function e(){return L().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.loadUserProjects(r.username);case 2:r.projectRoles=e.sent;case 3:case"end":return e.stop()}}),e)}))))}}},C=O,M=Object(y["a"])(C,c,d,!1,null,null,null),T=M.exports,z=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"createManagedUserModal",size:"lg","hide-header-close":"","no-stacking":"",title:e.$t("admin.create_managed_user")},on:{hide:function(t){return e.resetValues()}},scopedSlots:e._u([{key:"modal-footer",fn:function(r){var n=r.cancel;return[t("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(e){return n()}}},[e._v(e._s(e.$t("message.close")))]),t("b-button",{attrs:{size:"md",variant:"primary",disabled:!e.createReady},on:{click:function(t){return e.createUser()}}},[e._v(e._s(e.$t("message.create")))])]}}])},[t("b-row",[t("b-col",[t("b-input-group-form-input",{attrs:{id:"username-input","input-group-size":"mb-3",type:"text",lazy:"true",required:"true",feedback:"true",autofocus:"false",label:e.$t("message.username"),"feedback-text":e.$t("admin.required_username")},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t("b-input-group-form-input",{attrs:{id:"fullname-input","input-group-size":"mb-3",type:"text",lazy:"true",required:"true",feedback:"true",autofocus:"false",label:e.$t("message.fullname"),"feedback-text":e.$t("admin.required_fullname")},model:{value:e.fullname,callback:function(t){e.fullname=t},expression:"fullname"}}),t("b-input-group-form-input",{attrs:{id:"email-input","input-group-size":"mb-3",type:"text",lazy:"true",required:"true",feedback:"true",autofocus:"false",label:e.$t("message.email"),"feedback-text":e.$t("admin.required_email")},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),t("b-col",[t("b-input-group-form-input",{attrs:{id:"password-input","input-group-size":"mb-3",type:"password",lazy:"true",required:"true",feedback:"true",autofocus:"false",label:e.$t("message.password"),"feedback-text":e.$t("admin.required_password")},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t("b-input-group-form-input",{attrs:{id:"confirmPassword-input","input-group-size":"mb-3",type:"password",lazy:"true",required:"true",feedback:"true",autofocus:"false",state:e.verifyPasswordState(),label:e.$t("admin.password_confirm"),"feedback-text":e.$t("admin.required_confirmPassword")},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),t("c-switch",e._b({attrs:{id:"forcePasswordChange",color:"primary",label:""},model:{value:e.forcePasswordChange,callback:function(t){e.forcePasswordChange=t},expression:"forcePasswordChange"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.change_password_next_login"))+"\n      "),t("br"),t("c-switch",e._b({attrs:{id:"nonExpiryPassword",color:"primary",label:""},model:{value:e.nonExpiryPassword,callback:function(t){e.nonExpiryPassword=t},expression:"nonExpiryPassword"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.password_never_expires"))+"\n    ")],1)],1)],1)},A=[],F={mixins:[h["a"]],components:{BInputGroupFormInput:w["a"],cSwitch:$["o"]},data:function(){return{username:null,fullname:null,email:null,password:null,confirmPassword:null,forcePasswordChange:!1,nonExpiryPassword:!1,labelIcon:{dataOn:"✓",dataOff:"✕"}}},computed:{createReady:function(){var e,t,r,n,o;return(null===(e=this.username)||void 0===e?void 0:e.length)>0&&(null===(t=this.fullname)||void 0===t?void 0:t.length)>0&&(null===(r=this.email)||void 0===r?void 0:r.length)>0&&(null===(n=this.password)||void 0===n?void 0:n.length)>0&&(null===(o=this.confirmPassword)||void 0===o?void 0:o.length)>0}},methods:{verifyPasswordState:function(){return void 0!==this.password&&null!==this.password&&this.password.length>0&&void 0!==this.confirmPassword&&null!==this.confirmPassword&&this.confirmPassword.length>0&&this.password===this.confirmPassword},createUser:function(){var e=this,t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_MANAGED);this.axios.put(t,{username:this.username,fullname:this.fullname,email:this.email,newPassword:this.password,confirmPassword:this.confirmPassword,forcePasswordChange:this.forcePasswordChange,nonExpiryPassword:this.nonExpiryPassword,suspended:!1}).then((function(t){e.$emit("refreshTable"),e.$toastr.s(e.$t("admin.user_created"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))})),this.$root.$emit("bv::hide::modal","createManagedUserModal"),this.resetValues()},resetValues:function(){this.username=null,this.fullname=null,this.email=null,this.password=null,this.confirmPassword=null,this.forcePasswordChange=!1,this.nonExpiryPassword=!1}}},I=F,q=Object(y["a"])(I,z,A,!1,null,null,null),D=q.exports,N={name:"ManagedUsersView",props:{header:String},mixins:[u["a"]],components:{CreateManagedUserModal:D},mounted:function(){var e=this;l["a"].$on(this.rowEvents.update,(function(t,r){e.$refs.table.updateRow({index:t,row:r}),e.$refs.table.expandRow(t)})),l["a"].$on(this.rowEvents.delete,(function(){e.refreshTable()}))},beforeDestroy:function(){l["a"].$off(this.rowEvents.update),l["a"].$off(this.rowEvents.delete)},data:function(){var e=this,t=this.$createElement;return{rowEvents:{update:"admin:managedusers:rowUpdate",delete:"admin:managedusers:rowDeleted"},columns:[{title:this.$t("message.username"),field:"username",sortable:!1,formatter:function(e){return s.a.inHTMLData(i["a"].valueWithDefault(e,""))}},{title:this.$t("message.fullname"),field:"fullname",sortable:!1,formatter:function(e){return s.a.inHTMLData(i["a"].valueWithDefault(e,""))}},{title:this.$t("message.email"),field:"email",sortable:!1,formatter:function(e){return s.a.inHTMLData(i["a"].valueWithDefault(e,""))}},{title:this.$t("admin.teams"),field:"teams",sortable:!1,formatter:function(e){return e?s.a.inHTMLData(i["a"].valueWithDefault(e.length,"0")):0}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},detailView:!0,detailViewIcon:!1,detailViewByClick:!0,detailFormatter:function(r,n){return e.vueFormatter({render:function(){return t(T,{attrs:{row:n,index:r,rowEvents:e.rowEvents}})}})},onExpandRow:this.vueFormatterInit,toolbar:"#customToolbar",responseHandler:function(e,t){return e.total=t.getResponseHeader("X-Total-Count"),e},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_MANAGED)}}},methods:{refreshTable:function(){this.$refs.table.refresh({silent:!0})}}},G=N,B=Object(y["a"])(G,n,o,!1,null,null,null);t["default"]=B.exports}}]);